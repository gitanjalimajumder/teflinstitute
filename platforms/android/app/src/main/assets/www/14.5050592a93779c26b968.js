(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{XusI:function(e,i,t){"use strict";t.r(i),t.d(i,"CoreUserProfileLazyModule",(function(){return H}));var o=t("tyNb"),r=t("L3Fv"),n=t("mrSG"),s=t("9+EE"),c=t("3LXp"),a=t("fjkH"),l=t("4pns"),_=t("F9j1"),d=t("+jPs"),u=t("bFG1"),f=t("pHTc"),p=t("Xzvb"),m=t("eoiU"),g=t("xtzZ"),h=t("baaQ"),P=t("8vmT"),b=t("D7J2"),C=t("j3ag"),I=t("fXoL"),v=t("TEn/"),U=t("nt/U"),T=t("OZH1"),y=t("PgjG"),E=t("ofXK"),O=t("FeAf"),D=t("3CSS"),x=t("ACYt"),V=t("r8G5"),w=t("sYmb"),k=t("lAaw");function CoreUserProfilePage_ion_list_13_p_6_Template(e,i){if(1&e&&(I.Ec(0,"p"),I.zc(1,"ion-icon",16),I.pd(2),I.Dc()),2&e){const e=I.Oc(2);I.lc(1),I.mc("aria-hidden",!0),I.lc(1),I.rd(" ",e.user.address," ")}}function CoreUserProfilePage_ion_list_13_p_7_Template(e,i){if(1&e&&(I.Ec(0,"p"),I.Ec(1,"strong"),I.pd(2),I.Pc(3,"translate"),I.Dc(),I.pd(4),I.Pc(5,"translate"),I.Dc()),2&e){const e=I.Oc(2);I.lc(2),I.qd(I.Qc(3,3,"core.user.roles")),I.lc(2),I.sd("",I.Qc(5,5,"core.labelsep")," ",e.rolesFormatted," ")}}function CoreUserProfilePage_ion_list_13_p_8_Template(e,i){if(1&e&&(I.Ec(0,"p"),I.Ec(1,"strong"),I.pd(2),I.Pc(3,"translate"),I.Dc(),I.pd(4),I.Pc(5,"translate"),I.Dc()),2&e){const e=I.Oc(2);I.lc(2),I.qd(I.Qc(3,3,"core.group")),I.lc(2),I.sd("",I.Qc(5,5,"core.labelsep")," ",e.userGroups," ")}}function CoreUserProfilePage_ion_list_13_p_9_span_4_Template(e,i){if(1&e&&(I.Ec(0,"span"),I.pd(1),I.Pc(2,"coreTimeAgo"),I.Dc()),2&e){const e=I.Oc(3);I.lc(1),I.qd(I.Qc(2,1,e.user.lastaccess))}}function CoreUserProfilePage_ion_list_13_p_9_ng_container_5_Template(e,i){1&e&&(I.Cc(0),I.pd(1),I.Pc(2,"translate"),I.Bc()),2&e&&(I.lc(1),I.qd(I.Qc(2,1,"core.never")))}function CoreUserProfilePage_ion_list_13_p_9_Template(e,i){if(1&e&&(I.Ec(0,"p"),I.Ec(1,"strong"),I.pd(2),I.Pc(3,"translate"),I.Dc(),I.nd(4,CoreUserProfilePage_ion_list_13_p_9_span_4_Template,3,3,"span",6),I.nd(5,CoreUserProfilePage_ion_list_13_p_9_ng_container_5_Template,3,3,"ng-container",6),I.Dc()),2&e){const e=I.Oc(2);I.lc(2),I.rd("",I.Qc(3,3,"core.lastaccess"),": "),I.lc(2),I.Vc("ngIf",e.user.lastaccess),I.lc(1),I.Vc("ngIf",!e.user.lastaccess)}}function CoreUserProfilePage_ion_list_13_div_10_ion_item_1_ion_button_2_ion_icon_2_Template(e,i){if(1&e&&I.zc(0,"ion-icon",21),2&e){const e=I.Oc().$implicit;I.Vc("name",e.icon)}}const _c0=function(e){return["core-user-profile-handler",e]};function CoreUserProfilePage_ion_list_13_div_10_ion_item_1_ion_button_2_Template(e,i){if(1&e){const e=I.Fc();I.Ec(0,"ion-button",19),I.Mc("click",(function CoreUserProfilePage_ion_list_13_div_10_ion_item_1_ion_button_2_Template_ion_button_click_0_listener(t){I.fd(e);const o=i.$implicit;return I.Oc(4).handlerClicked(t,o)})),I.Pc(1,"translate"),I.nd(2,CoreUserProfilePage_ion_list_13_div_10_ion_item_1_ion_button_2_ion_icon_2_Template,1,1,"ion-icon",20),I.pd(3),I.Pc(4,"translate"),I.Dc()}if(2&e){const e=i.$implicit;I.Vc("ngClass",I.ad(10,_c0,e.class||""))("hidden",e.hidden)("disabled",e.spinner),I.mc("aria-label",I.Qc(1,6,e.title)),I.lc(2),I.Vc("ngIf",e.icon),I.lc(1),I.rd(" ",I.Qc(4,8,e.title)," ")}}function CoreUserProfilePage_ion_list_13_div_10_ion_item_1_Template(e,i){if(1&e&&(I.Ec(0,"ion-item"),I.Ec(1,"ion-label"),I.nd(2,CoreUserProfilePage_ion_list_13_div_10_ion_item_1_ion_button_2_Template,5,12,"ion-button",18),I.Dc(),I.Dc()),2&e){const e=I.Oc(3);I.lc(2),I.Vc("ngForOf",e.communicationHandlers)}}function CoreUserProfilePage_ion_list_13_div_10_div_2_Template(e,i){1&e&&(I.Ec(0,"div",22),I.zc(1,"ion-spinner"),I.Pc(2,"translate"),I.Dc()),2&e&&(I.lc(1),I.mc("aria-label",I.Qc(2,1,"core.loading")))}function CoreUserProfilePage_ion_list_13_div_10_Template(e,i){if(1&e&&(I.Ec(0,"div",17),I.nd(1,CoreUserProfilePage_ion_list_13_div_10_ion_item_1_Template,3,1,"ion-item",6),I.nd(2,CoreUserProfilePage_ion_list_13_div_10_div_2_Template,3,3,"div",14),I.Dc()),2&e){const e=I.Oc(2);I.lc(1),I.Vc("ngIf",e.communicationHandlers&&e.communicationHandlers.length),I.lc(1),I.Vc("ngIf",e.isLoadingHandlers)}}function CoreUserProfilePage_ion_list_13_ion_item_18_Template(e,i){1&e&&(I.Ec(0,"ion-item",22),I.Ec(1,"ion-label"),I.zc(2,"ion-spinner"),I.Pc(3,"translate"),I.Dc(),I.Dc()),2&e&&(I.lc(2),I.mc("aria-label",I.Qc(3,1,"core.loading")))}function CoreUserProfilePage_ion_list_13_ion_item_19_ion_icon_2_Template(e,i){if(1&e&&I.zc(0,"ion-icon",21),2&e){const e=I.Oc().$implicit;I.Vc("name",e.icon)}}function CoreUserProfilePage_ion_list_13_ion_item_19_ion_badge_7_Template(e,i){if(1&e&&(I.Ec(0,"ion-badge",27),I.pd(1),I.Dc()),2&e){const e=I.Oc().$implicit;I.Vc("hidden",e.loading||!e.badge),I.lc(1),I.rd(" ",e.badge," ")}}const _c1=function(e){return{$a:e}};function CoreUserProfilePage_ion_list_13_ion_item_19_span_8_Template(e,i){if(1&e&&(I.Ec(0,"span",28),I.pd(1),I.Pc(2,"translate"),I.Dc()),2&e){const e=I.Oc().$implicit;I.lc(1),I.rd(" ",I.Rc(2,1,e.badgeA11yText,I.ad(4,_c1,e.badge))," ")}}function CoreUserProfilePage_ion_list_13_ion_item_19_ion_spinner_9_Template(e,i){1&e&&(I.zc(0,"ion-spinner",29),I.Pc(1,"translate")),2&e&&I.mc("aria-label",I.Qc(1,1,"core.loading"))}function CoreUserProfilePage_ion_list_13_ion_item_19_Template(e,i){if(1&e){const e=I.Fc();I.Ec(0,"ion-item",23),I.Mc("click",(function CoreUserProfilePage_ion_list_13_ion_item_19_Template_ion_item_click_0_listener(t){I.fd(e);const o=i.$implicit;return I.Oc(2).handlerClicked(t,o)})),I.Pc(1,"translate"),I.nd(2,CoreUserProfilePage_ion_list_13_ion_item_19_ion_icon_2_Template,1,1,"ion-icon",20),I.Ec(3,"ion-label"),I.Ec(4,"p",13),I.pd(5),I.Pc(6,"translate"),I.Dc(),I.Dc(),I.nd(7,CoreUserProfilePage_ion_list_13_ion_item_19_ion_badge_7_Template,2,2,"ion-badge",24),I.nd(8,CoreUserProfilePage_ion_list_13_ion_item_19_span_8_Template,3,6,"span",25),I.nd(9,CoreUserProfilePage_ion_list_13_ion_item_19_ion_spinner_9_Template,2,3,"ion-spinner",26),I.Dc()}if(2&e){const e=i.$implicit;I.Vc("ngClass",I.ad(12,_c0,e.class||""))("hidden",e.hidden),I.mc("aria-label",I.Qc(1,8,e.title)),I.lc(2),I.Vc("ngIf",e.icon),I.lc(3),I.qd(I.Qc(6,10,e.title)),I.lc(2),I.Vc("ngIf",e.showBadge),I.lc(1),I.Vc("ngIf",e.showBadge&&e.badge&&e.badgeA11yText),I.lc(1),I.Vc("ngIf",e.showBadge&&e.loading)}}function CoreUserProfilePage_ion_list_13_ion_item_20_ion_button_2_ion_icon_2_Template(e,i){if(1&e&&I.zc(0,"ion-icon",21),2&e){const e=I.Oc().$implicit;I.Vc("name",e.icon)}}function CoreUserProfilePage_ion_list_13_ion_item_20_ion_button_2_ion_spinner_5_Template(e,i){1&e&&(I.zc(0,"ion-spinner",29),I.Pc(1,"translate")),2&e&&I.mc("aria-label",I.Qc(1,1,"core.loading"))}function CoreUserProfilePage_ion_list_13_ion_item_20_ion_button_2_Template(e,i){if(1&e){const e=I.Fc();I.Ec(0,"ion-button",31),I.Mc("click",(function CoreUserProfilePage_ion_list_13_ion_item_20_ion_button_2_Template_ion_button_click_0_listener(t){I.fd(e);const o=i.$implicit;return I.Oc(3).handlerClicked(t,o)})),I.Pc(1,"translate"),I.nd(2,CoreUserProfilePage_ion_list_13_ion_item_20_ion_button_2_ion_icon_2_Template,1,1,"ion-icon",20),I.pd(3),I.Pc(4,"translate"),I.nd(5,CoreUserProfilePage_ion_list_13_ion_item_20_ion_button_2_ion_spinner_5_Template,2,3,"ion-spinner",26),I.Dc()}if(2&e){const e=i.$implicit;I.Vc("ngClass",I.ad(11,_c0,e.class||""))("hidden",e.hidden)("disabled",e.spinner),I.mc("aria-label",I.Qc(1,7,e.title)),I.lc(2),I.Vc("ngIf",e.icon),I.lc(1),I.rd(" ",I.Qc(4,9,e.title)," "),I.lc(2),I.Vc("ngIf",e.spinner)}}function CoreUserProfilePage_ion_list_13_ion_item_20_Template(e,i){if(1&e&&(I.Ec(0,"ion-item"),I.Ec(1,"ion-label"),I.nd(2,CoreUserProfilePage_ion_list_13_ion_item_20_ion_button_2_Template,6,13,"ion-button",30),I.Dc(),I.Dc()),2&e){const e=I.Oc(2);I.lc(2),I.Vc("ngForOf",e.actionHandlers)}}function CoreUserProfilePage_ion_list_13_Template(e,i){if(1&e){const e=I.Fc();I.Ec(0,"ion-list"),I.Ec(1,"ion-item",8),I.zc(2,"core-user-avatar",9),I.Ec(3,"ion-label"),I.Ec(4,"h2"),I.pd(5),I.Dc(),I.nd(6,CoreUserProfilePage_ion_list_13_p_6_Template,3,2,"p",6),I.nd(7,CoreUserProfilePage_ion_list_13_p_7_Template,6,7,"p",6),I.nd(8,CoreUserProfilePage_ion_list_13_p_8_Template,6,7,"p",6),I.nd(9,CoreUserProfilePage_ion_list_13_p_9_Template,6,5,"p",6),I.Dc(),I.Dc(),I.nd(10,CoreUserProfilePage_ion_list_13_div_10_Template,3,2,"div",10),I.Ec(11,"ion-item",11),I.Mc("click",(function CoreUserProfilePage_ion_list_13_Template_ion_item_click_11_listener(){I.fd(e);return I.Oc().openUserDetails()})),I.Pc(12,"translate"),I.zc(13,"ion-icon",12),I.Ec(14,"ion-label"),I.Ec(15,"p",13),I.pd(16),I.Pc(17,"translate"),I.Dc(),I.Dc(),I.Dc(),I.nd(18,CoreUserProfilePage_ion_list_13_ion_item_18_Template,4,3,"ion-item",14),I.nd(19,CoreUserProfilePage_ion_list_13_ion_item_19_Template,10,14,"ion-item",15),I.nd(20,CoreUserProfilePage_ion_list_13_ion_item_20_Template,3,1,"ion-item",6),I.Dc()}if(2&e){const e=I.Oc();I.lc(2),I.Vc("user",e.user)("userId",e.user.id)("linkProfile",!1)("checkOnline",!0),I.lc(3),I.qd(e.user.fullname),I.lc(1),I.Vc("ngIf",e.user.address),I.lc(1),I.Vc("ngIf",e.rolesFormatted),I.lc(1),I.Vc("ngIf",e.userGroups),I.lc(1),I.Vc("ngIf",void 0!==e.user.lastaccess),I.lc(1),I.Vc("ngIf",e.communicationHandlers&&e.communicationHandlers.length||e.isLoadingHandlers),I.lc(1),I.mc("aria-label",I.Qc(12,15,"core.user.details")),I.lc(5),I.qd(I.Qc(17,17,"core.user.details")),I.lc(2),I.Vc("ngIf",e.isLoadingHandlers),I.lc(1),I.Vc("ngForOf",e.newPageHandlers),I.lc(1),I.Vc("ngIf",e.actionHandlers&&e.actionHandlers.length)}}function CoreUserProfilePage_core_empty_box_14_Template(e,i){1&e&&(I.zc(0,"core-empty-box",32),I.Pc(1,"translate")),2&e&&I.Vc("message",I.Qc(1,1,"core.user.detailsnotavailable"))}function CoreUserProfilePage_core_empty_box_15_Template(e,i){1&e&&(I.zc(0,"core-empty-box",32),I.Pc(1,"translate")),2&e&&I.Vc("message",I.Qc(1,1,"core.userdeleted"))}function CoreUserProfilePage_core_empty_box_16_Template(e,i){1&e&&(I.zc(0,"core-empty-box",32),I.Pc(1,"translate")),2&e&&I.Vc("message",I.Qc(1,1,"core.usersuspended"))}function CoreUserProfilePage_core_empty_box_17_Template(e,i){1&e&&(I.zc(0,"core-empty-box",32),I.Pc(1,"translate")),2&e&&I.Vc("message",I.Qc(1,1,"core.notenrolledprofile"))}let z=(()=>{class CoreUserProfilePage{constructor(e){this.route=e,this.userLoaded=!1,this.isLoadingHandlers=!1,this.isDeleted=!1,this.isSuspended=!1,this.isEnrolled=!0,this.actionHandlers=[],this.newPageHandlers=[],this.communicationHandlers=[],this.obsProfileRefreshed=a.b.on(l.e,(e=>{this.user&&e.user&&(this.user.email=e.user.email,this.user.address=_.a.formatAddress("",e.user.city,e.user.country))}),s.b.getCurrentSiteId()),this.logView=P.a.once((e=>Object(n.a)(this,void 0,void 0,(function*(){try{yield l.a.logView(this.userId,this.courseId,e.fullname)}catch(e){this.isDeleted="userdeleted"===(null==e?void 0:e.errorcode)||"wsaccessuserdeleted"===(null==e?void 0:e.errorcode),this.isSuspended="wsaccessusersuspended"===(null==e?void 0:e.errorcode),this.isEnrolled="notenrolledprofile"!==(null==e?void 0:e.errorcode)}let i="";if(this.userId!==s.b.getCurrentSiteUserId()){const e=this.courseId&&this.courseId!==s.b.getCurrentSiteHomeId();i=`?id=${this.userId}`+(e?`&course=${this.courseId}`:"")}b.a.logEvent({type:b.b.VIEW_ITEM,ws:"core_user_view_user_profile",name:e.fullname+": "+C.I.instant("core.publicprofile"),data:{id:this.userId,courseid:this.courseId||void 0,category:"user"},url:`/user/profile.php${i}`})}))))}ngOnInit(){var e;return Object(n.a)(this,void 0,void 0,(function*(){try{this.site=s.b.getRequiredCurrentSite(),this.courseId=f.a.getRouteNumberParam("courseId"),this.userId=f.a.getRequiredRouteNumberParam("userId")}catch(e){return c.a.showErrorModal(e),f.a.back(),void 0}if(this.courseId===this.site.getSiteHomeId()&&(this.courseId=void 0),this.courseId&&"participants"===this.route.snapshot.data.swipeManagerSource){const e=f.a.getRouteParam("search"),i=h.a.getOrCreateSource(g.a,[this.courseId,e]);this.users=new profile_CoreUserSwipeItemsManager(i),this.users.start()}try{if(yield this.fetchUser(),this.courseId&&this.user&&"groups"in this.user){const i=C.I.instant("core.listsep");this.userGroups=null===(e=this.user.groups)||void 0===e?void 0:e.map((e=>e.name)).join(i+" ")}}finally{this.userLoaded=!0}}))}fetchUser(){var e;return Object(n.a)(this,void 0,void 0,(function*(){try{const i=yield l.a.getProfile(this.userId,this.courseId);i.address=_.a.formatAddress("",i.city,i.country),this.rolesFormatted="roles"in i?_.a.formatRoleList(i.roles):"",this.user=i,null===(e=this.subscription)||void 0===e||e.unsubscribe();const t=this.courseId?d.b.COURSE:d.b.SITE;this.subscription=d.a.getProfileHandlersFor(i,t,this.courseId).subscribe((e=>{this.actionHandlers=[],this.newPageHandlers=[],this.communicationHandlers=[],e.forEach((e=>{switch(e.type){case d.c.TYPE_COMMUNICATION:this.communicationHandlers.push(e.data);break;case d.c.TYPE_ACTION:this.actionHandlers.push(e.data);break;default:this.newPageHandlers.push(e.data)}})),this.isLoadingHandlers=!d.a.areHandlersLoaded(i.id,t,this.courseId)})),this.logView(i)}catch(e){c.a.showErrorModal(e)}}))}refreshUser(e){var i;return Object(n.a)(this,void 0,void 0,(function*(){yield u.a.ignoreErrors(Promise.all([l.a.invalidateUserCache(this.userId),p.a.invalidateUserNavigationOptions(),p.a.invalidateUserAdministrationOptions()])),yield this.fetchUser(),null==e||e.complete(),this.user&&a.b.trigger(l.e,{courseId:this.courseId,userId:this.userId,user:this.user},null===(i=this.site)||void 0===i?void 0:i.getId())}))}openUserDetails(){f.a.navigateToSitePath("user/about",{params:{courseId:this.courseId,userId:this.userId}})}handlerClicked(e,i){if(!this.user)return;i.action(e,this.user,this.courseId?d.b.COURSE:d.b.SITE,this.courseId)}ngOnDestroy(){var e,i;null===(e=this.users)||void 0===e?void 0:e.destroy(),null===(i=this.subscription)||void 0===i||i.unsubscribe(),this.obsProfileRefreshed.off()}}return CoreUserProfilePage.ɵfac=function CoreUserProfilePage_Factory(e){return new(e||CoreUserProfilePage)(I.yc(o.a))},CoreUserProfilePage.ɵcmp=I.sc({type:CoreUserProfilePage,selectors:[["page-core-user-profile"]],decls:18,vars:15,consts:[["slot","start"],[3,"text"],[1,"limited-width",3,"core-swipe-navigation"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"hideUntil"],[4,"ngIf"],["icon","far-user",3,"message",4,"ngIf"],[1,"ion-text-center","core-user-profile-maininfo","ion-text-wrap"],[3,"user","userId","linkProfile","checkOnline"],["class","core-user-communication-handlers",4,"ngIf"],["button","","detail","true",1,"ion-text-wrap","core-user-profile-handler",3,"click"],["name","fas-user","slot","start","aria-hidden","true"],[1,"item-heading"],["class","ion-text-center core-loading-handlers",4,"ngIf"],["button","","class","ion-text-wrap","detail","true",3,"ngClass","hidden","click",4,"ngFor","ngForOf"],["name","fas-location-dot"],[1,"core-user-communication-handlers"],["expand","block","size","default",3,"ngClass","hidden","disabled","click",4,"ngFor","ngForOf"],["expand","block","size","default",3,"ngClass","hidden","disabled","click"],["slot","start","aria-hidden","true",3,"name",4,"ngIf"],["slot","start","aria-hidden","true",3,"name"],[1,"ion-text-center","core-loading-handlers"],["button","","detail","true",1,"ion-text-wrap",3,"ngClass","hidden","click"],["slot","end","aria-hidden","true",3,"hidden",4,"ngIf"],["class","sr-only",4,"ngIf"],["slot","end",4,"ngIf"],["slot","end","aria-hidden","true",3,"hidden"],[1,"sr-only"],["slot","end"],["expand","block","fill","outline","size","default",3,"ngClass","hidden","disabled","click",4,"ngFor","ngForOf"],["expand","block","fill","outline","size","default",3,"ngClass","hidden","disabled","click"],["icon","far-user",3,"message"]],template:function CoreUserProfilePage_Template(e,i){1&e&&(I.Ec(0,"ion-header"),I.Ec(1,"ion-toolbar"),I.Ec(2,"ion-buttons",0),I.zc(3,"ion-back-button",1),I.Pc(4,"translate"),I.Dc(),I.Ec(5,"ion-title"),I.Ec(6,"h1"),I.pd(7),I.Dc(),I.Dc(),I.Dc(),I.Dc(),I.Ec(8,"ion-content",2),I.Ec(9,"ion-refresher",3),I.Mc("ionRefresh",(function CoreUserProfilePage_Template_ion_refresher_ionRefresh_9_listener(e){return i.refreshUser(e.target)})),I.zc(10,"ion-refresher-content",4),I.Pc(11,"translate"),I.Dc(),I.Ec(12,"core-loading",5),I.nd(13,CoreUserProfilePage_ion_list_13_Template,21,19,"ion-list",6),I.nd(14,CoreUserProfilePage_core_empty_box_14_Template,2,3,"core-empty-box",7),I.nd(15,CoreUserProfilePage_core_empty_box_15_Template,2,3,"core-empty-box",7),I.nd(16,CoreUserProfilePage_core_empty_box_16_Template,2,3,"core-empty-box",7),I.nd(17,CoreUserProfilePage_core_empty_box_17_Template,2,3,"core-empty-box",7),I.Dc(),I.Dc()),2&e&&(I.lc(3),I.Vc("text",I.Qc(4,11,"core.back")),I.lc(4),I.qd(null==i.user?null:i.user.fullname),I.lc(1),I.Vc("core-swipe-navigation",i.users),I.lc(1),I.Vc("disabled",!i.userLoaded),I.lc(1),I.Wc("pullingText",I.Qc(11,13,"core.pulltorefresh")),I.lc(2),I.Vc("hideUntil",i.userLoaded),I.lc(1),I.Vc("ngIf",i.user&&!i.isDeleted&&i.isEnrolled),I.lc(1),I.Vc("ngIf",!i.user&&!i.isDeleted&&i.isEnrolled),I.lc(1),I.Vc("ngIf",i.isDeleted),I.lc(1),I.Vc("ngIf",i.isSuspended),I.lc(1),I.Vc("ngIf",!i.isEnrolled))},directives:[v.C,v.Ab,v.m,v.h,v.i,v.yb,U.a,v.v,T.a,v.bb,v.cb,y.a,E.t,v.P,v.I,O.a,v.O,v.D,D.a,E.s,x.a,v.l,E.q,v.qb,v.k,V.a],pipes:[w.d,k.a],styles:["[_nghost-%COMP%]   .core-user-profile-maininfo[_ngcontent-%COMP%]::part(native){flex-direction:column}[_nghost-%COMP%]     core-user-avatar{display:block;--core-avatar-size:var(--core-large-avatar-size);height:calc(var(--core-avatar-size) + 16px)}[_nghost-%COMP%]     core-user-avatar img{margin:8px auto}[_nghost-%COMP%]     core-user-avatar .contact-status{width:24px!important;height:24px!important;right:calc(50% - 12px - var(--core-avatar-size) / 2)!important}[dir=rtl][_nghost-%COMP%]     core-user-avatar .edit-avatar, [dir=rtl]   [_nghost-%COMP%]     core-user-avatar .edit-avatar{left:-24px;right:unset}"]}),CoreUserProfilePage})();class profile_CoreUserSwipeItemsManager extends m.a{getSelectedItemPathFromRoute(e){return e.params.userId}}const M=[{path:"",component:z}];let H=(()=>{class CoreUserProfileLazyModule{}return CoreUserProfileLazyModule.ɵmod=I.wc({type:CoreUserProfileLazyModule}),CoreUserProfileLazyModule.ɵinj=I.vc({factory:function CoreUserProfileLazyModule_Factory(e){return new(e||CoreUserProfileLazyModule)},imports:[[o.m.forChild(M),r.a],o.m]}),CoreUserProfileLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&I.kd(H,{declarations:[z],imports:[o.m,r.a],exports:[o.m]}))},eoiU:function(e,i,t){"use strict";t.d(i,"a",(function(){return CoreSwipeNavigationItemsManager}));var o=t("mrSG"),r=t("pHTc"),n=t("CtbY");class CoreSwipeNavigationItemsManager extends n.a{start(){return Object(o.a)(this,void 0,void 0,(function*(){this.updateSelectedItem()}))}navigateToNextItem(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.navigateToItemBy(1,"forward")}))}navigateToPreviousItem(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.navigateToItemBy(-1,"back")}))}hasNextItem(){return Object(o.a)(this,void 0,void 0,(function*(){return!!(yield this.getItemBy(1))}))}hasPreviousItem(){return Object(o.a)(this,void 0,void 0,(function*(){return!!(yield this.getItemBy(-1))}))}getCurrentPageRoute(){return r.a.getCurrentRoute()}getSelectedItemPathFromRoute(e){const i=[];for(;e&&(i.push(...e.url),e.firstChild);)e=e.firstChild;return i.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}navigateToItemBy(e,i){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.getItemBy(e);t&&(yield this.navigateToItem(t,{animationDirection:i,replace:!0}))}))}getItemBy(e){var i;return Object(o.a)(this,void 0,void 0,(function*(){const t=this.getSource().getItems(),o=null!==(i=this.selectedItem&&(null==t?void 0:t.indexOf(this.selectedItem)))&&void 0!==i?i:-1;if(-1===o||null===t)return null;const r=e>0?1:-1;let n=o,s=0;for(;s!==e;){if(n+=r,n<0)return null;if(n>=t.length)break;this.skipItemInSwipe(t[n])||(s+=r)}return s===e?t[n]:this.getSource().isCompleted()?null:(yield this.getSource().load(),this.getItemBy(e))}))}skipItemInSwipe(e){return!1}}}}]);