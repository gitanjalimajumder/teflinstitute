(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{hMZU:function(n,e,t){"use strict";t.r(e),t.d(e,"AddonNotificationsSettingsLazyModule",(function(){return x}));var o=t("tyNb"),i=t("L3Fv"),c=t("mrSG"),_=t("BBqZ"),a=t("ANhT"),r=t("9+EE"),s=t("3LXp"),g=t("bFG1"),l=t("4pns"),d=t("c6ZJ"),p=t("BaYo"),f=t("93ts"),m=t("fjkH"),u=t("yjU1"),N=t("ssuw"),P=t("pHTc"),h=t("8vmT"),S=t("D7J2"),A=t("j3ag"),T=t("fXoL"),O=t("TEn/"),y=t("ACV2"),b=t("fQ68"),E=t("ofXK"),D=t("nt/U"),v=t("PgjG"),M=t("8/N+"),w=t("3Pt+"),C=t("3zv0"),I=t("sYmb");function AddonNotificationsSettingsPage_core_context_menu_item_12_Template(n,e){if(1&n){const n=T.Fc();T.Ec(0,"core-context-menu-item",12),T.Mc("action",(function AddonNotificationsSettingsPage_core_context_menu_item_12_Template_core_context_menu_item_action_0_listener(){T.fd(n);const t=e.$implicit;return T.Oc().openExtraPreferences(t)})),T.Pc(1,"translate"),T.Dc()}if(2&n){const n=e.$implicit;T.Vc("priority",n.priority)("content",T.Qc(1,3,n.label))("iconAction",n.icon)}}function AddonNotificationsSettingsPage_ion_item_19_Template(n,e){if(1&n){const n=T.Fc();T.Ec(0,"ion-item",13),T.Ec(1,"ion-label"),T.Ec(2,"p",14),T.pd(3),T.Pc(4,"translate"),T.Dc(),T.Dc(),T.Ec(5,"ion-toggle",15),T.Mc("ngModelChange",(function AddonNotificationsSettingsPage_ion_item_19_Template_ion_toggle_ngModelChange_5_listener(e){T.fd(n);return T.Oc().preferences.enableall=e}))("ngModelChange",(function AddonNotificationsSettingsPage_ion_item_19_Template_ion_toggle_ngModelChange_5_listener(){T.fd(n);const e=T.Oc();return e.enableAll(e.preferences.enableall)})),T.Dc(),T.Dc()}if(2&n){const n=T.Oc();T.lc(3),T.qd(T.Qc(4,2,"addon.notifications.allownotifications")),T.lc(2),T.Vc("ngModel",n.preferences.enableall)}}function AddonNotificationsSettingsPage_ion_item_20_Template(n,e){if(1&n){const n=T.Fc();T.Ec(0,"ion-item",13),T.Ec(1,"ion-label"),T.Ec(2,"p",14),T.pd(3),T.Pc(4,"translate"),T.Dc(),T.Dc(),T.Ec(5,"ion-toggle",15),T.Mc("ngModelChange",(function AddonNotificationsSettingsPage_ion_item_20_Template_ion_toggle_ngModelChange_5_listener(e){T.fd(n);return T.Oc().notificationSound=e}))("ngModelChange",(function AddonNotificationsSettingsPage_ion_item_20_Template_ion_toggle_ngModelChange_5_listener(){T.fd(n);const e=T.Oc();return e.changeNotificationSound(e.notificationSound)})),T.Dc(),T.Dc()}if(2&n){const n=T.Oc();T.lc(3),T.qd(T.Qc(4,2,"addon.notifications.playsound")),T.lc(2),T.Vc("ngModel",n.notificationSound)}}function AddonNotificationsSettingsPage_ion_item_22_ion_select_option_6_Template(n,e){if(1&n&&(T.Ec(0,"ion-select-option",20),T.pd(1),T.Dc()),2&n){const n=e.$implicit;T.Vc("value",n.name),T.lc(1),T.rd(" ",n.displayname," ")}}function AddonNotificationsSettingsPage_ion_item_22_Template(n,e){if(1&n){const n=T.Fc();T.Ec(0,"ion-item",16),T.Ec(1,"ion-label",17),T.Ec(2,"p",14),T.pd(3),T.Pc(4,"translate"),T.Dc(),T.Dc(),T.Ec(5,"ion-select",18),T.Mc("ngModelChange",(function AddonNotificationsSettingsPage_ion_item_22_Template_ion_select_ngModelChange_5_listener(e){T.fd(n);return T.Oc().currentProcessorName=e}))("ionChange",(function AddonNotificationsSettingsPage_ion_item_22_Template_ion_select_ionChange_5_listener(e){T.fd(n);return T.Oc().changeProcessor(e)})),T.nd(6,AddonNotificationsSettingsPage_ion_item_22_ion_select_option_6_Template,2,2,"ion-select-option",19),T.Dc(),T.Dc()}if(2&n){const n=T.Oc();T.Vc("button",!1),T.lc(3),T.qd(T.Qc(4,4,"addon.notifications.typeofnotification")),T.lc(2),T.Vc("ngModel",n.currentProcessorName),T.lc(1),T.Vc("ngForOf",null==n.preferences?null:n.preferences.processors)}}function AddonNotificationsSettingsPage_ng_container_23_ng_container_1_Template(n,e){1&n&&T.Ac(0)}const _c0=function(n){return{preferences:n}};function AddonNotificationsSettingsPage_ng_container_23_Template(n,e){if(1&n&&(T.Cc(0),T.nd(1,AddonNotificationsSettingsPage_ng_container_23_ng_container_1_Template,1,0,"ng-container",21),T.Bc()),2&n){const n=T.Oc(),e=T.ed(26);T.lc(1),T.Vc("ngTemplateOutlet",e)("ngTemplateOutletContext",T.ad(2,_c0,n.preferences))}}function AddonNotificationsSettingsPage_ng_container_24_ng_container_1_Template(n,e){1&n&&T.Ac(0)}function AddonNotificationsSettingsPage_ng_container_24_Template(n,e){if(1&n&&(T.Cc(0),T.nd(1,AddonNotificationsSettingsPage_ng_container_24_ng_container_1_Template,1,0,"ng-container",21),T.Bc()),2&n){const n=T.Oc(),e=T.ed(28);T.lc(1),T.Vc("ngTemplateOutlet",e)("ngTemplateOutletContext",T.ad(2,_c0,n.preferences))}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template(n,e){if(1&n){const n=T.Fc();T.Ec(0,"core-button-with-spinner",37),T.Ec(1,"ion-toggle",38),T.Mc("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(e){T.fd(n);const t=T.Oc(2).$implicit,o=T.Oc().$implicit,i=T.Oc(3);return o.processorsByName[i.currentProcessorName][t].checked=e}))("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(){T.fd(n);const e=T.Oc(2).$implicit,t=T.Oc().$implicit;return T.Oc(3).changePreferenceLegacy(t,e)})),T.Dc(),T.Dc()}if(2&n){const n=T.Oc(2).$implicit,e=T.Oc().$implicit,t=T.Oc(3);T.Vc("loading",e.processorsByName[t.currentProcessorName][n].updating),T.lc(1),T.Vc("ngModel",e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_2_Template(n,e){1&n&&(T.Ec(0,"span",39),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.rd(" ",T.Qc(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_3_Template(n,e){1&n&&(T.Ec(0,"span",39),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.rd(" ",T.Qc(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_Template(n,e){if(1&n&&(T.Cc(0),T.nd(1,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",36),T.nd(2,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_2_Template,3,3,"span",35),T.nd(3,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_3_Template,3,3,"span",35),T.Bc()),2&n){const n=T.Oc().$implicit,e=T.Oc().$implicit,t=T.Oc(3);T.lc(1),T.Vc("ngIf",!e.processorsByName[t.currentProcessorName].locked),T.lc(1),T.Vc("ngIf",e.processorsByName[t.currentProcessorName].locked&&e.processorsByName[t.currentProcessorName][n].checked),T.lc(1),T.Vc("ngIf",e.processorsByName[t.currentProcessorName].locked&&!e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_span_2_Template(n,e){1&n&&(T.Ec(0,"span",39),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.qd(T.Qc(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_Template(n,e){if(1&n&&(T.Ec(0,"ion-col",34),T.nd(1,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_ng_container_1_Template,4,3,"ng-container",9),T.nd(2,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_span_2_Template,3,3,"span",35),T.Dc()),2&n){const n=e.$implicit,t=T.Oc().$implicit,o=T.Oc(2).preferences,i=T.Oc();T.lc(1),T.Vc("ngIf",o.enableall&&t.processorsByName[i.currentProcessorName][n]),T.lc(1),T.Vc("ngIf",!o.enableall)}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template(n,e){if(1&n){const n=T.Fc();T.Ec(0,"ion-toggle",38),T.Mc("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(e){T.fd(n);const t=T.Oc(3).$implicit,o=T.Oc().$implicit,i=T.Oc(3);return o.processorsByName[i.currentProcessorName][t].checked=e}))("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(){T.fd(n);const e=T.Oc(3).$implicit,t=T.Oc().$implicit;return T.Oc(3).changePreferenceLegacy(t,e)})),T.Dc()}if(2&n){const n=T.Oc(3).$implicit,e=T.Oc().$implicit,t=T.Oc(3);T.Vc("ngModel",e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_Template(n,e){if(1&n&&(T.Ec(0,"core-button-with-spinner",37),T.nd(1,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template,1,1,"ion-toggle",44),T.Dc()),2&n){const n=T.Oc(2).$implicit,e=T.Oc().$implicit,t=T.Oc(3);T.Vc("loading",e.processorsByName[t.currentProcessorName][n].updating),T.lc(1),T.Vc("ngIf",!e.processorsByName[t.currentProcessorName].locked)}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_span_2_Template(n,e){1&n&&(T.Ec(0,"span",39),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.rd(" ",T.Qc(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_span_3_Template(n,e){1&n&&(T.Ec(0,"span",39),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.rd(" ",T.Qc(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_Template(n,e){if(1&n&&(T.Ec(0,"div",2),T.nd(1,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",36),T.nd(2,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_span_2_Template,3,3,"span",35),T.nd(3,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_span_3_Template,3,3,"span",35),T.Dc()),2&n){const n=T.Oc().$implicit,e=T.Oc().$implicit,t=T.Oc(3);T.lc(1),T.Vc("ngIf",!e.processorsByName[t.currentProcessorName].locked),T.lc(1),T.Vc("ngIf",e.processorsByName[t.currentProcessorName].locked&&e.processorsByName[t.currentProcessorName][n].checked),T.lc(1),T.Vc("ngIf",e.processorsByName[t.currentProcessorName].locked&&!e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_span_6_Template(n,e){1&n&&(T.Ec(0,"span",45),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.qd(T.Qc(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_Template(n,e){if(1&n&&(T.Ec(0,"ion-item",40),T.Ec(1,"ion-label",41),T.Ec(2,"p"),T.pd(3),T.Pc(4,"translate"),T.Dc(),T.Dc(),T.nd(5,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_div_5_Template,4,3,"div",42),T.nd(6,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_span_6_Template,3,3,"span",43),T.Dc()),2&n){const n=e.$implicit,t=T.Oc().$implicit,o=T.Oc(2).preferences,i=T.Oc();T.lc(3),T.qd(T.Qc(4,3,"core.settings."+n)),T.lc(2),T.Vc("ngIf",o.enableall&&t.processorsByName[i.currentProcessorName][n]),T.lc(1),T.Vc("ngIf",!o.enableall)}}const _c1=function(){return["loggedin","loggedoff"]};function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_Template(n,e){if(1&n&&(T.Cc(0),T.Ec(1,"ion-item",28),T.Ec(2,"ion-label"),T.Ec(3,"ion-row",29),T.Ec(4,"ion-col",30),T.Ec(5,"p",14),T.pd(6),T.Dc(),T.Dc(),T.nd(7,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_col_7_Template,3,2,"ion-col",31),T.Dc(),T.Dc(),T.Dc(),T.Ec(8,"ion-item",32),T.Ec(9,"ion-label"),T.Ec(10,"p",14),T.pd(11),T.Dc(),T.Dc(),T.Dc(),T.nd(12,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_ion_item_12_Template,7,5,"ion-item",33),T.Bc()),2&n){const n=e.$implicit;T.lc(6),T.qd(n.displayname),T.lc(1),T.Vc("ngForOf",T.Zc(4,_c1)),T.lc(4),T.qd(n.displayname),T.lc(1),T.Vc("ngForOf",T.Zc(5,_c1))}}function AddonNotificationsSettingsPage_ng_template_25_ng_container_0_Template(n,e){if(1&n&&(T.Cc(0,23),T.Ec(1,"ion-card-header",24),T.Ec(2,"ion-item",25),T.Ec(3,"ion-label",13),T.Ec(4,"ion-row",24),T.Ec(5,"ion-col",24),T.Ec(6,"p",14),T.pd(7),T.Dc(),T.Dc(),T.Ec(8,"ion-col",26),T.Ec(9,"p"),T.pd(10),T.Pc(11,"translate"),T.Dc(),T.Dc(),T.Ec(12,"ion-col",26),T.Ec(13,"p"),T.pd(14),T.Pc(15,"translate"),T.Dc(),T.Dc(),T.Dc(),T.Dc(),T.Dc(),T.Dc(),T.nd(16,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_ng_container_16_Template,13,6,"ng-container",27),T.Bc()),2&n){const n=e.$implicit;T.lc(7),T.qd(n.displayname),T.lc(3),T.qd(T.Qc(11,4,"core.settings.loggedin")),T.lc(4),T.qd(T.Qc(15,6,"core.settings.loggedoff")),T.lc(2),T.Vc("ngForOf",n.notifications)}}function AddonNotificationsSettingsPage_ng_template_25_Template(n,e){if(1&n&&T.nd(0,AddonNotificationsSettingsPage_ng_template_25_ng_container_0_Template,17,8,"ng-container",22),2&n){const n=T.Oc();T.Vc("ngForOf",n.components)}}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template(n,e){if(1&n){const n=T.Fc();T.Ec(0,"ion-toggle",38),T.Mc("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(e){T.fd(n);const t=T.Oc(3).$implicit,o=T.Oc(3);return t.processorsByName[o.currentProcessorName].enabled=e}))("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(){T.fd(n);const e=T.Oc(3).$implicit;return T.Oc(3).changePreference(e)})),T.Dc()}if(2&n){const n=T.Oc(3).$implicit,e=T.Oc(3);T.Vc("ngModel",n.processorsByName[e.currentProcessorName].enabled)}}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_Template(n,e){if(1&n&&(T.Ec(0,"core-button-with-spinner",37),T.nd(1,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template,1,1,"ion-toggle",44),T.Dc()),2&n){const n=T.Oc(2).$implicit,e=T.Oc(3);T.Vc("loading",n.processorsByName[e.currentProcessorName].updating),T.lc(1),T.Vc("ngIf",!n.processorsByName[e.currentProcessorName].locked)}}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_span_2_Template(n,e){1&n&&(T.Ec(0,"span",39),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.rd(" ",T.Qc(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_span_3_Template(n,e){1&n&&(T.Ec(0,"span",39),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.rd(" ",T.Qc(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_Template(n,e){if(1&n&&(T.Ec(0,"div",2),T.nd(1,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",36),T.nd(2,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_span_2_Template,3,3,"span",35),T.nd(3,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_span_3_Template,3,3,"span",35),T.Dc()),2&n){const n=T.Oc().$implicit,e=T.Oc(3);T.lc(1),T.Vc("ngIf",!n.processorsByName[e.currentProcessorName].locked),T.lc(1),T.Vc("ngIf",n.processorsByName[e.currentProcessorName].locked&&n.processorsByName[e.currentProcessorName].enabled),T.lc(1),T.Vc("ngIf",n.processorsByName[e.currentProcessorName].locked&&!n.processorsByName[e.currentProcessorName].enabled)}}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_span_6_Template(n,e){1&n&&(T.Ec(0,"span",45),T.pd(1),T.Pc(2,"translate"),T.Dc()),2&n&&(T.lc(1),T.qd(T.Qc(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_Template(n,e){if(1&n&&(T.Cc(0),T.Ec(1,"ion-item",13),T.Ec(2,"ion-label"),T.Ec(3,"p"),T.pd(4),T.Dc(),T.Dc(),T.nd(5,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_div_5_Template,4,3,"div",42),T.nd(6,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_span_6_Template,3,3,"span",43),T.Dc(),T.Bc()),2&n){const n=e.$implicit,t=T.Oc(2).preferences;T.lc(4),T.qd(n.displayname),T.lc(1),T.Vc("ngIf",t.enableall),T.lc(1),T.Vc("ngIf",!t.enableall)}}function AddonNotificationsSettingsPage_ng_template_27_ng_container_0_Template(n,e){if(1&n&&(T.Cc(0,23),T.Ec(1,"ion-item-divider",13),T.Ec(2,"ion-label"),T.Ec(3,"p",14),T.pd(4),T.Dc(),T.Dc(),T.Dc(),T.nd(5,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_ng_container_5_Template,7,3,"ng-container",27),T.Bc()),2&n){const n=e.$implicit;T.lc(4),T.qd(n.displayname),T.lc(1),T.Vc("ngForOf",n.notifications)}}function AddonNotificationsSettingsPage_ng_template_27_Template(n,e){if(1&n&&T.nd(0,AddonNotificationsSettingsPage_ng_template_27_ng_container_0_Template,6,2,"ng-container",22),2&n){const n=T.Oc();T.Vc("ngForOf",n.components)}}let V=(()=>{class AddonNotificationsSettingsPage{constructor(){this.currentProcessorName="airnotifier",this.preferencesLoaded=!1,this.notificationSound=!1,this.processorHandlers=[],this.loggedInOffLegacyMode=!1,this.canChangeSound=a.a.canDisableSound();const n=r.b.getRequiredCurrentSite();this.loggedInOffLegacyMode=!n.isVersionGreaterEqualThan("4.0"),this.logView=h.a.once((()=>Object(c.a)(this,void 0,void 0,(function*(){S.a.logEvent({type:S.b.VIEW_ITEM_LIST,ws:"core_message_get_user_notification_preferences",name:A.I.instant("addon.notifications.notificationpreferences"),data:{category:"notifications"},url:"/message/notificationpreferences.php"})}))))}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){this.canChangeSound&&(this.notificationSound=yield _.a.get(p.a.SETTINGS_NOTIFICATION_SOUND,!0)),this.fetchPreferences()}))}fetchPreferences(){return Object(c.a)(this,void 0,void 0,(function*(){try{const n=yield u.a.getNotificationPreferences();let e=n.processors.find((n=>n.name==this.currentProcessorName));if(e||(e=n.processors[0]),!e)throw new f.a("No processor found");n.enableall=!n.disableall,this.preferences=N.a.formatPreferences(n),this.loadProcessor(e),this.logView()}catch(n){s.a.showErrorModal(n)}finally{this.preferencesLoaded=!0}}))}loadProcessor(n){var e;if(!n)return;if(this.currentProcessorName=n.name,this.processorHandlers=[],this.components=N.a.getProcessorComponents(n.name,(null===(e=this.preferences)||void 0===e?void 0:e.components)||[]),!n.hassettings||!n.supported)return;const t=d.a.getDisplayData(n);t&&this.processorHandlers.push(t)}updatePreferencesAfterDelay(){clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout((()=>{this.updateTimeout=void 0,this.updatePreferences()}),5e3)}updatePreferences(){return Object(c.a)(this,void 0,void 0,(function*(){yield g.a.ignoreErrors(u.a.invalidateNotificationPreferences()),yield u.a.getNotificationPreferences()}))}changeProcessor(n){var e;const t=null===(e=this.preferences)||void 0===e?void 0:e.processors.find((e=>e.name==n));t&&this.loadProcessor(t)}refreshPreferences(n){return Object(c.a)(this,void 0,void 0,(function*(){try{yield g.a.ignoreErrors(u.a.invalidateNotificationPreferences()),yield this.fetchPreferences()}finally{null==n?void 0:n.complete()}}))}openExtraPreferences(n){P.a.navigateToSitePath(n.page,{params:n.pageParams})}changePreferenceLegacy(n,e){var t;return Object(c.a)(this,void 0,void 0,(function*(){const o=null===(t=n.processorsByName)||void 0===t?void 0:t[this.currentProcessorName];if(!o)return;const i=o[e],c=n.preferencekey+"_"+i.name;let _=n.processors.filter((n=>n[e].checked)).map((n=>n.name)).join(",");""==_&&(_="none"),i.updating=!0;try{yield l.a.updateUserPreference(c,_),this.updatePreferencesAfterDelay()}catch(n){s.a.showErrorModal(n),o[e].checked=!o[e].checked}finally{i.updating=!1}}))}changePreference(n){var e;return Object(c.a)(this,void 0,void 0,(function*(){const t=null===(e=n.processorsByName)||void 0===e?void 0:e[this.currentProcessorName];if(!t)return;const o=n.preferencekey+"_enabled";let i=n.processors.filter((n=>n.enabled)).map((n=>n.name)).join(",");""==i&&(i="none"),t.updating=!0;try{yield l.a.updateUserPreference(o,i),this.updatePreferencesAfterDelay()}catch(n){s.a.showErrorModal(n),t.enabled=!t.enabled}finally{t.updating=!1}}))}enableAll(n){return Object(c.a)(this,void 0,void 0,(function*(){if(!this.preferences)return;const e=yield s.a.showModalLoading("core.sending",!0);try{l.a.updateUserPreferences([],!n),this.updatePreferencesAfterDelay()}catch(n){s.a.showErrorModal(n),this.preferences.enableall=!this.preferences.enableall}finally{e.dismiss()}}))}changeNotificationSound(n){return Object(c.a)(this,void 0,void 0,(function*(){yield g.a.ignoreErrors(_.a.set(p.a.SETTINGS_NOTIFICATION_SOUND,n?1:0));const e=r.b.getCurrentSiteId();m.b.trigger(m.b.NOTIFICATION_SOUND_CHANGED,{enabled:n},e),a.a.rescheduleAll()}))}ngOnDestroy(){this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updatePreferences())}}return AddonNotificationsSettingsPage.ɵfac=function AddonNotificationsSettingsPage_Factory(n){return new(n||AddonNotificationsSettingsPage)},AddonNotificationsSettingsPage.ɵcmp=T.sc({type:AddonNotificationsSettingsPage,selectors:[["page-addon-notifications-settings"]],decls:29,vars:17,consts:[["slot","start"],[3,"text"],["slot","end"],[3,"priority","content","iconAction","action",4,"ngFor","ngForOf"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"hideUntil"],["class","ion-text-wrap",4,"ngIf"],["class","ion-text-wrap only-links","lines","none",3,"button",4,"ngIf"],[4,"ngIf"],["legacySettings",""],["settings",""],[3,"priority","content","iconAction","action"],[1,"ion-text-wrap"],[1,"item-heading"],["slot","end",3,"ngModel","ngModelChange"],["lines","none",1,"ion-text-wrap","only-links",3,"button"],[1,"addon-notification-type-form"],["interface","popover",3,"ngModel","ngModelChange","ionChange"],["class","ion-text-wrap",3,"value",4,"ngFor","ngForOf"],[1,"ion-text-wrap",3,"value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ion-margin-top",4,"ngFor","ngForOf"],[1,"ion-margin-top"],[1,"ion-no-padding"],[1,"ion-text-wrap","divider"],["size","2",1,"ion-text-center","ion-no-padding","ion-hide-md-down"],[4,"ngFor","ngForOf"],[1,"ion-text-wrap","ion-hide-md-down","addon-notifications-table-content","only-links"],[1,"ion-no-padding","ion-align-items-center"],[1,"ion-margin-horizontal","ion-no-padding"],["size","2","class","ion-text-center ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-text-wrap","ion-no-margin","ion-hide-md-up"],["class","ion-text-wrap ion-hide-md-up",4,"ngFor","ngForOf"],["size","2",1,"ion-text-center","ion-no-padding"],["class","text-gray",4,"ngIf"],[3,"loading",4,"ngIf"],[3,"loading"],[3,"ngModel","ngModelChange"],[1,"text-gray"],[1,"ion-text-wrap","ion-hide-md-up"],[1,"ion-margin-horizontal"],["slot","end",4,"ngIf"],["class","text-gray","slot","end",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["slot","end",1,"text-gray"]],template:function AddonNotificationsSettingsPage_Template(n,e){1&n&&(T.Ec(0,"ion-header"),T.Ec(1,"ion-toolbar"),T.Ec(2,"ion-buttons",0),T.zc(3,"ion-back-button",1),T.Pc(4,"translate"),T.Dc(),T.Ec(5,"ion-title"),T.Ec(6,"h1"),T.pd(7),T.Pc(8,"translate"),T.Dc(),T.Dc(),T.zc(9,"ion-buttons",2),T.Dc(),T.Dc(),T.Ec(10,"core-navbar-buttons",2),T.Ec(11,"core-context-menu"),T.nd(12,AddonNotificationsSettingsPage_core_context_menu_item_12_Template,2,5,"core-context-menu-item",3),T.Dc(),T.Dc(),T.Ec(13,"ion-content"),T.Ec(14,"ion-refresher",4),T.Mc("ionRefresh",(function AddonNotificationsSettingsPage_Template_ion_refresher_ionRefresh_14_listener(n){return e.refreshPreferences(n.target)})),T.zc(15,"ion-refresher-content",5),T.Pc(16,"translate"),T.Dc(),T.Ec(17,"core-loading",6),T.Ec(18,"ion-card"),T.nd(19,AddonNotificationsSettingsPage_ion_item_19_Template,6,4,"ion-item",7),T.nd(20,AddonNotificationsSettingsPage_ion_item_20_Template,6,4,"ion-item",7),T.Dc(),T.Ec(21,"ion-card"),T.nd(22,AddonNotificationsSettingsPage_ion_item_22_Template,7,6,"ion-item",8),T.nd(23,AddonNotificationsSettingsPage_ng_container_23_Template,2,4,"ng-container",9),T.nd(24,AddonNotificationsSettingsPage_ng_container_24_Template,2,4,"ng-container",9),T.Dc(),T.Dc(),T.Dc(),T.nd(25,AddonNotificationsSettingsPage_ng_template_25_Template,1,1,"ng-template",null,10,T.od),T.nd(27,AddonNotificationsSettingsPage_ng_template_27_Template,1,1,"ng-template",null,11,T.od)),2&n&&(T.lc(3),T.Vc("text",T.Qc(4,11,"core.back")),T.lc(4),T.qd(T.Qc(8,13,"addon.notifications.notifications")),T.lc(5),T.Vc("ngForOf",e.processorHandlers),T.lc(2),T.Vc("disabled",!e.preferencesLoaded),T.lc(1),T.Wc("pullingText",T.Qc(16,15,"core.pulltorefresh")),T.lc(2),T.Vc("hideUntil",e.preferencesLoaded),T.lc(2),T.Vc("ngIf",e.preferences),T.lc(1),T.Vc("ngIf",e.canChangeSound),T.lc(2),T.Vc("ngIf",null==e.preferences||null==e.preferences.processors?null:e.preferences.processors.length),T.lc(1),T.Vc("ngIf",e.loggedInOffLegacyMode),T.lc(1),T.Vc("ngIf",!e.loggedInOffLegacyMode))},directives:[O.C,O.Ab,O.m,O.h,O.i,O.yb,y.a,b.a,E.s,D.a,O.v,O.bb,O.cb,v.a,O.n,E.t,M.a,O.I,O.O,O.zb,O.d,w.r,w.u,O.lb,O.Ob,O.mb,E.A,O.p,O.hb,O.u,C.a,O.J],pipes:[I.d],styles:[".addon-notifications-table-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{min-height:35px}ion-card-header[_ngcontent-%COMP%], ion-item-divider[_ngcontent-%COMP%]{border-top:1px solid var(--stroke)}"]}),AddonNotificationsSettingsPage})();const B=[{path:"",component:V}];let x=(()=>{class AddonNotificationsSettingsLazyModule{}return AddonNotificationsSettingsLazyModule.ɵmod=T.wc({type:AddonNotificationsSettingsLazyModule}),AddonNotificationsSettingsLazyModule.ɵinj=T.vc({factory:function AddonNotificationsSettingsLazyModule_Factory(n){return new(n||AddonNotificationsSettingsLazyModule)},imports:[[o.m.forChild(B),i.a],o.m]}),AddonNotificationsSettingsLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&T.kd(x,{declarations:[V],imports:[o.m,i.a],exports:[o.m]}))}}]);