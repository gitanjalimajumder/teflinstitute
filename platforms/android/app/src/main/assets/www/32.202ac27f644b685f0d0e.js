(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"84jw":function(e,o,n){"use strict";n.d(o,"a",(function(){return u}));var t=n("JatN"),r=n("fXoL"),s=n("ofXK"),d=n("TEn/"),c=n("hMzs"),a=n("3Pt+"),i=n("FasJ"),m=n("FTxb"),l=n("d0nH"),p=n("sYmb");function AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_core_input_errors_13_Template(e,o){if(1&e&&r.zc(0,"core-input-errors",11),2&e){const e=r.Oc(2).index,o=r.Oc();r.Vc("errorText",o.fieldErrors["grade_"+e])}}const _c0=function(e){return{$a:e}};function AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_ion_item_22_Template(e,o){if(1&e){const e=r.Fc();r.Ec(0,"ion-item"),r.Ec(1,"ion-label",5),r.pd(2),r.Pc(3,"translate"),r.Dc(),r.Ec(4,"ion-textarea",12),r.Mc("ngModelChange",(function AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_ion_item_22_Template_ion_textarea_ngModelChange_4_listener(o){r.fd(e);const n=r.Oc(2).index;return r.Oc().selectedValues[n].peercomment=o})),r.Dc(),r.Dc()}if(2&e){const e=r.Oc(2),o=e.$implicit,n=e.index,t=r.Oc();r.lc(2),r.rd(" ",r.Rc(3,4,"addon.mod_workshop_assessment_numerrors.dimensioncommentfor",r.ad(7,_c0,o.dimtitle))," "),r.lc(2),r.Vc("ngModel",t.selectedValues[n].peercomment)("name","peercomment_"+n)("core-auto-rows",t.selectedValues[n].peercomment)}}function AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_ion_item_23_Template(e,o){if(1&e&&(r.Ec(0,"ion-item",2),r.Ec(1,"ion-label"),r.Ec(2,"p",13),r.pd(3),r.Pc(4,"translate"),r.Dc(),r.Ec(5,"p"),r.zc(6,"core-format-text",3),r.Dc(),r.Dc(),r.Dc()),2&e){const e=r.Oc(2),o=e.$implicit,n=e.index,t=r.Oc();r.lc(3),r.qd(r.Rc(4,4,"addon.mod_workshop_assessment_numerrors.dimensioncommentfor",r.ad(7,_c0,o.dimtitle))),r.lc(3),r.Vc("text",t.selectedValues[n].peercomment)("contextInstanceId",t.moduleId)("courseId",t.courseId)}}function AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_Template(e,o){if(1&e){const e=r.Fc();r.Ec(0,"ion-card"),r.Ec(1,"ion-item",2),r.Ec(2,"ion-label"),r.Ec(3,"h2"),r.pd(4),r.Dc(),r.zc(5,"core-format-text",3),r.Dc(),r.Dc(),r.Ec(6,"ion-list"),r.Ec(7,"ion-radio-group",4),r.Mc("ngModelChange",(function AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_Template_ion_radio_group_ngModelChange_7_listener(o){r.fd(e);const n=r.Oc().index;return r.Oc().selectedValues[n].grade=o})),r.Ec(8,"ion-item"),r.Ec(9,"ion-label",5),r.Ec(10,"span",6),r.pd(11),r.Pc(12,"translate"),r.Dc(),r.Dc(),r.nd(13,AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_core_input_errors_13_Template,1,1,"core-input-errors",7),r.Dc(),r.Ec(14,"ion-item"),r.Ec(15,"ion-label"),r.zc(16,"core-format-text",8),r.Dc(),r.zc(17,"ion-radio",9),r.Dc(),r.Ec(18,"ion-item"),r.Ec(19,"ion-label"),r.zc(20,"core-format-text",8),r.Dc(),r.zc(21,"ion-radio",9),r.Dc(),r.Dc(),r.Dc(),r.nd(22,AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_ion_item_22_Template,5,9,"ion-item",1),r.nd(23,AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_ion_item_23_Template,7,9,"ion-item",10),r.Dc()}if(2&e){const e=r.Oc(),o=e.$implicit,n=e.index,t=r.Oc();r.lc(4),r.qd(o.dimtitle),r.lc(1),r.Vc("text",o.description)("contextInstanceId",t.moduleId)("courseId",t.courseId),r.lc(2),r.Vc("ngModel",t.selectedValues[n].grade)("name","grade_"+n),r.lc(3),r.Vc("core-mark-required",t.edit),r.lc(1),r.rd(" ",r.Rc(12,19,"addon.mod_workshop.yourassessmentfor",r.ad(22,_c0,o.dimtitle))," "),r.lc(2),r.Vc("ngIf",t.edit&&t.fieldErrors["grade_"+n]),r.lc(3),r.Vc("text",o.grade0)("filter",!1),r.lc(1),r.Vc("value",-1)("disabled",!t.edit),r.lc(3),r.Vc("text",o.grade1)("filter",!1),r.lc(1),r.Vc("value",1)("disabled",!t.edit),r.lc(1),r.Vc("ngIf",t.edit),r.lc(1),r.Vc("ngIf",!t.edit)}}function AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_Template(e,o){if(1&e&&(r.Ec(0,"section"),r.nd(1,AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_ion_card_1_Template,24,24,"ion-card",1),r.Dc()),2&e){const e=o.index,n=r.Oc();r.lc(1),r.Vc("ngIf",e<(null==n.assessment.form?null:n.assessment.form.dimenssionscount))}}let u=(()=>{class AddonModWorkshopAssessmentStrategyNumErrorsComponent extends t.a{}return AddonModWorkshopAssessmentStrategyNumErrorsComponent.ɵfac=function AddonModWorkshopAssessmentStrategyNumErrorsComponent_Factory(e){return _(e||AddonModWorkshopAssessmentStrategyNumErrorsComponent)},AddonModWorkshopAssessmentStrategyNumErrorsComponent.ɵcmp=r.sc({type:AddonModWorkshopAssessmentStrategyNumErrorsComponent,selectors:[["addon-mod-workshop-assessment-strategy-numerrors"]],features:[r.ic],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ion-text-wrap"],["contextLevel","module",3,"text","contextInstanceId","courseId"],[3,"ngModel","name","ngModelChange"],["position","stacked"],[3,"core-mark-required"],[3,"errorText",4,"ngIf"],[3,"text","filter"],["slot","start",3,"value","disabled"],["class","ion-text-wrap",4,"ngIf"],[3,"errorText"],[3,"ngModel","name","core-auto-rows","ngModelChange"],[1,"item-heading"]],template:function AddonModWorkshopAssessmentStrategyNumErrorsComponent_Template(e,o){1&e&&r.nd(0,AddonModWorkshopAssessmentStrategyNumErrorsComponent_section_0_Template,2,1,"section",0),2&e&&r.Vc("ngForOf",null==o.assessment.form?null:o.assessment.form.fields)},directives:[s.s,s.t,d.n,d.I,d.O,c.a,d.P,d.Z,d.Ob,a.r,a.u,i.a,d.Y,d.Mb,m.a,d.wb,d.Pb,l.a],pipes:[p.d],encapsulation:2}),AddonModWorkshopAssessmentStrategyNumErrorsComponent})();const _=r.Gc(u)},JatN:function(e,o,n){"use strict";n.d(o,"a",(function(){return r}));var t=n("fXoL");let r=(()=>{class AddonModWorkshopAssessmentStrategyBaseComponent{}return AddonModWorkshopAssessmentStrategyBaseComponent.ɵfac=function AddonModWorkshopAssessmentStrategyBaseComponent_Factory(e){return new(e||AddonModWorkshopAssessmentStrategyBaseComponent)},AddonModWorkshopAssessmentStrategyBaseComponent.ɵcmp=t.sc({type:AddonModWorkshopAssessmentStrategyBaseComponent,selectors:[["ng-component"]],inputs:{workshopId:"workshopId",assessment:"assessment",edit:"edit",selectedValues:"selectedValues",fieldErrors:"fieldErrors",strategy:"strategy",moduleId:"moduleId",courseId:"courseId"},decls:0,vars:0,template:function AddonModWorkshopAssessmentStrategyBaseComponent_Template(e,o){},encapsulation:2}),AddonModWorkshopAssessmentStrategyBaseComponent})()},LN2P:function(e,o,n){"use strict";n.r(o),n.d(o,"AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService",(function(){return a})),n.d(o,"AddonModWorkshopAssessmentStrategyNumErrorsHandler",(function(){return m}));var t=n("mrSG"),r=n("j3ag"),s=n("84jw"),d=n("QZ6q"),c=n("fXoL");let a=(()=>{class AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService extends d.a{isEnabled(){return Object(t.a)(this,void 0,void 0,(function*(){return!0}))}getComponent(){return s.a}getOriginalValues(e){return Object(t.a)(this,void 0,void 0,(function*(){const o=[];return e.fields.forEach(((n,t)=>{n.dimtitle=r.I.instant("addon.mod_workshop_assessment_numerrors.dimensionnumber",{$a:n.number}),e.current[t]||(e.current[t]={}),o[t]={},o[t].peercomment=e.current[t].peercomment||"",o[t].number=n.number,o[t].grade=e.current[t].grade||""})),o}))}hasDataChanged(e,o){for(const n in e){if(e[n].grade!=o[n].grade)return!0;if(e[n].peercomment!=o[n].peercomment)return!0}return!1}prepareAssessmentData(e,o){return Object(t.a)(this,void 0,void 0,(function*(){const n={},t={};let s=!1;if(o.fields.forEach(((d,c)=>{var a;if(c<o.dimenssionscount){const i=parseInt(String(e[c].grade),10);isNaN(i)||1!=i&&-1!=i?(t["grade_"+c]=r.I.instant("core.required"),s=!0):n["grade__idx_"+c]=i,n["peercomment__idx_"+c]=null!==(a=e[c].peercomment)&&void 0!==a?a:"",n["gradeid__idx_"+c]=parseInt(o.current[c].gradeid,10)||0,n["dimensionid__idx_"+c]=parseInt(d.dimensionid,10),n["weight__idx_"+c]=parseInt(d.weight,10)||0}})),s)throw t;return n}))}}return AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService.ɵfac=function AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService_Factory(e){return i(e||AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService)},AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService.ɵprov=c.uc({token:AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService,factory:AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService.ɵfac,providedIn:"root"}),AddonModWorkshopAssessmentStrategyNumErrorsHandlerLazyService})();const i=c.Gc(a),m=Object(r.M)(a)}}]);