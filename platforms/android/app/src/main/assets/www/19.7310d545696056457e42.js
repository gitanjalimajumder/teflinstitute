(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"Ct/I":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreSettingsLazyModule",(function(){return re}));var i=n("tyNb"),c=n("vY5A"),o=n("L3Fv"),a=n("Y+03"),s=n("mrSG"),r=n("46ml"),l=n("EoRH"),g=n("BaYo"),_=n("CvRw"),d=n("0Gfa"),p=n("r2Z7");class settings_sections_source_CoreSettingsSectionsSource extends _.a{loadPageItems(){return Object(s.a)(this,void 0,void 0,(function*(){const e=[{name:"core.settings.general",path:"general",icon:"fas-wrench"},{name:"core.settings.spaceusage",path:"spaceusage",icon:"fas-list-check"},{name:"core.settings.synchronization",path:"sync",icon:g.a.ICON_SYNC}];return p.a.isIOS()&&e.push({name:"core.sharedfiles.sharedfiles",path:d.c+"/list/root",icon:"fas-folder",params:{manage:!0}}),e.push({name:"core.settings.about",path:"about",icon:"fas-id-card"}),{items:e}}))}getItemPath(e){return e.path}getItemQueryParams(e){return e.params||{}}}var m=n("baaQ"),u=n("fXoL"),f=n("TEn/"),h=n("nt/U"),S=n("ofXK"),C=n("3CSS"),v=n("sYmb");function CoreSettingsIndexPage_ion_item_13_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",4),u.Mc("click",(function CoreSettingsIndexPage_ion_item_13_Template_ion_item_click_0_listener(){u.fd(e);const n=t.$implicit;return u.Oc().sections.select(n)})),u.zc(1,"ion-icon",5),u.Ec(2,"ion-label"),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Dc()}if(2&e){const e=t.$implicit,n=u.Oc();u.mc("aria-current",n.sections.getItemAriaCurrent(e)),u.lc(1),u.Vc("name",e.icon),u.lc(2),u.qd(u.Qc(4,3,e.name))}}let D=(()=>{class CoreSettingsIndexPage{constructor(){const e=m.a.getOrCreateSource(settings_sections_source_CoreSettingsSectionsSource,[]);this.sections=new l.a(e,CoreSettingsIndexPage)}ngAfterViewInit(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.sections.load(),yield this.sections.start(this.splitView)}))}ngOnDestroy(){this.sections.destroy()}}return CoreSettingsIndexPage.ɵfac=function CoreSettingsIndexPage_Factory(e){return new(e||CoreSettingsIndexPage)},CoreSettingsIndexPage.ɵcmp=u.sc({type:CoreSettingsIndexPage,selectors:[["page-core-settings-index"]],viewQuery:function CoreSettingsIndexPage_Query(e,t){var n;(1&e&&u.ud(r.a,!0),2&e)&&(u.dd(n=u.Nc())&&(t.splitView=n.first))},decls:14,vars:7,consts:[["slot","start"],[3,"text"],["slot","end"],["button","","detail","true",3,"click",4,"ngFor","ngForOf"],["button","","detail","true",3,"click"],["slot","start","aria-hidden","true",3,"name"]],template:function CoreSettingsIndexPage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.zc(9,"ion-buttons",2),u.Dc(),u.Dc(),u.Ec(10,"ion-content"),u.Ec(11,"core-split-view"),u.Ec(12,"ion-list"),u.nd(13,CoreSettingsIndexPage_ion_item_13_Template,5,5,"ion-item",3),u.Dc(),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,3,"core.back")),u.lc(4),u.qd(u.Qc(8,5,"core.settings.appsettings")),u.lc(6),u.Vc("ngForOf",t.sections.items))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,h.a,f.v,r.a,f.P,S.s,f.I,f.D,C.a,f.O],pipes:[v.d],encapsulation:2}),CoreSettingsIndexPage})();var P=n("fjkH"),b=n("9+EE"),I=n("3LXp"),E=n("BBqZ"),y=n("1gmh"),T=n("j3ag"),O=n("mv9v"),L=n("GGba"),w=n("pHTc"),V=n("ACV2"),M=n("ACYt"),k=n("PgjG"),x=n("3Pt+"),z=n("hMzs"),F=n("iSJP"),A=n("FeAf"),U=n("3zv0");function CoreSettingsSynchronizationPage_ion_card_28_ng_container_4_Template(e,t){1&e&&(u.Cc(0),u.pd(1),u.Pc(2,"translate"),u.Bc()),2&e&&(u.lc(1),u.rd(" ",u.Qc(2,1,"core.settings.connectwifitosync"),""))}function CoreSettingsSynchronizationPage_ion_card_28_ng_container_5_Template(e,t){1&e&&(u.Cc(0),u.pd(1),u.Pc(2,"translate"),u.Bc()),2&e&&(u.lc(1),u.qd(u.Qc(2,1,"core.settings.connecttosync")))}function CoreSettingsSynchronizationPage_ion_card_28_Template(e,t){if(1&e&&(u.Ec(0,"ion-card",14),u.Ec(1,"ion-item",8),u.zc(2,"ion-icon",15),u.Ec(3,"ion-label"),u.nd(4,CoreSettingsSynchronizationPage_ion_card_28_ng_container_4_Template,3,3,"ng-container",12),u.nd(5,CoreSettingsSynchronizationPage_ion_card_28_ng_container_5_Template,3,3,"ng-container",12),u.Dc(),u.Dc(),u.Dc()),2&e){const e=u.Oc();u.lc(4),u.Vc("ngIf",e.isOnline&&e.dataSaver&&e.limitedConnection),u.lc(1),u.Vc("ngIf",!e.isOnline)}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ng_container_9_Template(e,t){1&e&&u.Ac(0)}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_ng_container_1_Template(e,t){1&e&&u.Ac(0)}const _c0=function(e){return{site:e}};function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_Template(e,t){if(1&e&&(u.Ec(0,"ion-item"),u.nd(1,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_ng_container_1_Template,1,0,"ng-container",21),u.Dc()),2&e){const e=t.$implicit;u.Oc(3);const n=u.ed(31);u.lc(1),u.Vc("ngTemplateOutlet",n)("ngTemplateOutletContext",u.ad(2,_c0,e))}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_Template(e,t){if(1&e&&(u.Ec(0,"ion-card"),u.Ec(1,"ion-item-divider",17),u.Ec(2,"ion-label"),u.Ec(3,"p",9),u.zc(4,"core-format-text",18),u.Dc(),u.Ec(5,"p"),u.Ec(6,"a",19),u.pd(7),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Ec(8,"ion-item",20),u.nd(9,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ng_container_9_Template,1,0,"ng-container",21),u.Dc(),u.nd(10,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_Template,2,4,"ion-item",16),u.Dc()),2&e){const e=u.Oc(2),t=u.ed(31);u.lc(4),u.Vc("text",e.accountsList.currentSite.siteName)("siteId",e.accountsList.currentSite.id),u.lc(2),u.Vc("href",e.accountsList.currentSite.siteUrl,u.id),u.lc(1),u.qd(e.accountsList.currentSite.siteUrlWithoutProtocol),u.lc(2),u.Vc("ngTemplateOutlet",t)("ngTemplateOutletContext",u.ad(7,_c0,e.accountsList.currentSite)),u.lc(1),u.Vc("ngForOf",e.accountsList.sameSite)}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_divider_1_Template(e,t){if(1&e&&(u.Ec(0,"ion-item-divider",17),u.Ec(1,"ion-label"),u.Ec(2,"p",9),u.zc(3,"core-format-text",18),u.Dc(),u.Ec(4,"p"),u.Ec(5,"a",23),u.pd(6),u.Dc(),u.Dc(),u.Dc(),u.Dc()),2&e){const e=u.Oc().$implicit;u.lc(3),u.Vc("text",e[0].siteName)("siteId",e[0].id),u.lc(2),u.Vc("href",e[0].siteUrl,u.id),u.lc(1),u.qd(e[0].siteUrlWithoutProtocol)}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_ng_container_1_Template(e,t){1&e&&u.Ac(0)}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_Template(e,t){if(1&e&&(u.Ec(0,"ion-item"),u.nd(1,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_ng_container_1_Template,1,0,"ng-container",21),u.Dc()),2&e){const e=t.$implicit;u.Oc(3);const n=u.ed(31);u.lc(1),u.Vc("ngTemplateOutlet",n)("ngTemplateOutletContext",u.ad(2,_c0,e))}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_Template(e,t){if(1&e&&(u.Ec(0,"ion-card"),u.nd(1,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_divider_1_Template,7,4,"ion-item-divider",22),u.nd(2,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_Template,2,4,"ion-item",16),u.Dc()),2&e){const e=t.$implicit;u.lc(1),u.Vc("ngIf",e[0]),u.lc(1),u.Vc("ngForOf",e)}}function CoreSettingsSynchronizationPage_ng_container_29_Template(e,t){if(1&e&&(u.Cc(0),u.Ec(1,"ion-item-divider"),u.Ec(2,"ion-label"),u.Ec(3,"h2"),u.pd(4),u.Pc(5,"translate"),u.Dc(),u.Dc(),u.Dc(),u.nd(6,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_Template,11,9,"ion-card",12),u.nd(7,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_Template,3,2,"ion-card",16),u.Bc()),2&e){const e=u.Oc();u.lc(4),u.qd(u.Qc(5,3,"core.accounts")),u.lc(2),u.Vc("ngIf",e.accountsList.currentSite),u.lc(1),u.Vc("ngForOf",e.accountsList.otherSites)}}function CoreSettingsSynchronizationPage_ng_template_30_p_4_Template(e,t){1&e&&(u.Ec(0,"p",28),u.pd(1),u.Pc(2,"translate"),u.Dc()),2&e&&(u.lc(1),u.qd(u.Qc(2,1,"core.settings.logintosync")))}function CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_5_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"core-button-with-spinner",29),u.Ec(1,"ion-button",30),u.Mc("click",(function CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_5_Template_ion_button_click_1_listener(){u.fd(e);const t=u.Oc().site;return u.Oc().synchronize(t.id)})),u.Pc(2,"translate"),u.zc(3,"ion-icon",31),u.Dc(),u.Dc()}if(2&e){const e=u.Oc().site,t=u.Oc();u.Vc("loading",t.isSynchronizing(e.id)),u.lc(1),u.mc("aria-label",u.Qc(2,2,"core.settings.synchronizenow"))}}function CoreSettingsSynchronizationPage_ng_template_30_ion_button_6_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-button",32),u.Mc("click",(function CoreSettingsSynchronizationPage_ng_template_30_ion_button_6_Template_ion_button_click_0_listener(){u.fd(e);const t=u.Oc().site;return u.Oc().login(t.id)})),u.Pc(1,"translate"),u.zc(2,"ion-icon",33),u.Dc()}2&e&&u.mc("aria-label",u.Qc(1,1,"core.login.login"))}function CoreSettingsSynchronizationPage_ng_template_30_Template(e,t){if(1&e&&(u.zc(0,"core-user-avatar",24),u.Ec(1,"ion-label"),u.Ec(2,"p",9),u.pd(3),u.Dc(),u.nd(4,CoreSettingsSynchronizationPage_ng_template_30_p_4_Template,3,3,"p",25),u.Dc(),u.nd(5,CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_5_Template,4,4,"core-button-with-spinner",26),u.nd(6,CoreSettingsSynchronizationPage_ng_template_30_ion_button_6_Template,3,3,"ion-button",27)),2&e){const e=t.site;u.Vc("user",e)("linkProfile",!1)("siteId",e.id),u.lc(3),u.qd(e.fullname),u.lc(1),u.Vc("ngIf",e.loggedOut),u.lc(1),u.Vc("ngIf",!e.loggedOut),u.lc(1),u.Vc("ngIf",e.loggedOut)}}let q=(()=>{class CoreSettingsSynchronizationPage{constructor(){this.accountsList={sameSite:[],otherSites:[],count:0},this.sitesLoaded=!1,this.dataSaver=!1,this.limitedConnection=!1,this.isOnline=!0,this.isDestroyed=!1,this.sitesObserver=P.b.on(P.b.SITE_UPDATED,(e=>Object(s.a)(this,void 0,void 0,(function*(){var t;const n=e.siteId;let i=n===(null===(t=this.accountsList.currentSite)||void 0===t?void 0:t.id)?this.accountsList.currentSite:void 0;if(i||(i=this.accountsList.sameSite.find((e=>e.id===n))),i||this.accountsList.otherSites.some((e=>(i=e.find((e=>e.id===n)),i))),!i)return;const c=yield b.b.getSite(n),o=c.getInfo();i.siteName=yield c.getSiteName(),o&&(i.siteUrl=o.siteurl,i.fullname=o.fullname)})))),this.isOnline=L.a.isOnline(),this.limitedConnection=this.isOnline&&L.a.isNetworkAccessLimited(),this.networkObserver=L.a.onChange().subscribe((()=>{T.z.run((()=>{this.isOnline=L.a.isOnline(),this.limitedConnection=this.isOnline&&L.a.isNetworkAccessLimited()}))}))}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){const e=b.b.getCurrentSiteId();try{this.accountsList=yield O.a.getAccountsList(e)}catch(e){}this.sitesLoaded=!0,this.dataSaver=yield E.a.get(g.a.SETTINGS_SYNC_ONLY_ON_WIFI,!0)}))}syncOnlyOnWifiChanged(){E.a.set(g.a.SETTINGS_SYNC_ONLY_ON_WIFI,this.dataSaver?1:0)}synchronize(e){return Object(s.a)(this,void 0,void 0,(function*(){try{yield y.a.synchronizeSite(!1,e)}catch(e){if(this.isDestroyed)return;I.a.showErrorModalDefault(e,"core.settings.sitesyncfailed",!0)}}))}login(e){return Object(s.a)(this,void 0,void 0,(function*(){yield w.a.navigateToSiteHome({preferCurrentTab:!1,siteId:e})}))}isSynchronizing(e){return!!y.a.getSiteSyncPromise(e)}showInfo(){I.a.showAlert(T.I.instant("core.help"),T.I.instant("core.settings.synchronizenowhelp"))}ngOnDestroy(){this.isDestroyed=!0,this.sitesObserver.off(),this.networkObserver.unsubscribe()}}return CoreSettingsSynchronizationPage.ɵfac=function CoreSettingsSynchronizationPage_Factory(e){return new(e||CoreSettingsSynchronizationPage)},CoreSettingsSynchronizationPage.ɵcmp=u.sc({type:CoreSettingsSynchronizationPage,selectors:[["page-core-app-settings-synchronization"]],decls:32,vars:19,consts:[["slot","start"],[3,"text"],["slot","end"],[3,"click"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],[1,"limited-width"],[3,"hideUntil"],[1,"core-sitelist","limited-width"],[1,"ion-text-wrap"],[1,"item-heading"],["slot","end",3,"ngModel","ngModelChange"],["class","core-warning-card",4,"ngIf"],[4,"ngIf"],["siteSync",""],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[4,"ngFor","ngForOf"],["sticky","true",1,"core-sitelist-sitename"],["clean","true",3,"text","siteId"],["core-link","","autoLogin","yes",3,"href"],[1,"item-current"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["sticky","true","class","core-sitelist-sitename",4,"ngIf"],["core-link","","autoLogin","no",3,"href"],["slot","start",3,"user","linkProfile","siteId"],["class","text-danger",4,"ngIf"],["slot","end",3,"loading",4,"ngIf"],["fill","clear","slot","end",3,"click",4,"ngIf"],[1,"text-danger"],["slot","end",3,"loading"],["fill","clear",3,"click"],["name","fas-rotate","slot","icon-only","aria-hidden","true"],["fill","clear","slot","end",3,"click"],["name","fas-right-to-bracket","slot","icon-only","aria-hidden","true"]],template:function CoreSettingsSynchronizationPage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.Ec(9,"ion-buttons",2),u.Ec(10,"core-navbar-buttons"),u.Ec(11,"ion-button",3),u.Mc("click",(function CoreSettingsSynchronizationPage_Template_ion_button_click_11_listener(){return t.showInfo()})),u.Pc(12,"translate"),u.zc(13,"ion-icon",4),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Ec(14,"ion-content",5),u.Ec(15,"core-loading",6),u.Ec(16,"ion-list",7),u.Ec(17,"ion-item-divider"),u.Ec(18,"ion-label"),u.Ec(19,"h2"),u.pd(20),u.Pc(21,"translate"),u.Dc(),u.Dc(),u.Dc(),u.Ec(22,"ion-item",8),u.Ec(23,"ion-label"),u.Ec(24,"p",9),u.pd(25),u.Pc(26,"translate"),u.Dc(),u.Dc(),u.Ec(27,"ion-toggle",10),u.Mc("ngModelChange",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_27_listener(e){return t.dataSaver=e}))("ngModelChange",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_27_listener(){return t.syncOnlyOnWifiChanged()})),u.Dc(),u.Dc(),u.nd(28,CoreSettingsSynchronizationPage_ion_card_28_Template,6,2,"ion-card",11),u.nd(29,CoreSettingsSynchronizationPage_ng_container_29_Template,8,5,"ng-container",12),u.Dc(),u.Dc(),u.Dc(),u.nd(30,CoreSettingsSynchronizationPage_ng_template_30_Template,7,7,"ng-template",null,13,u.od)),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,9,"core.back")),u.lc(4),u.qd(u.Qc(8,11,"core.settings.synchronization")),u.lc(4),u.mc("aria-label",u.Qc(12,13,"core.info")),u.lc(4),u.Vc("hideUntil",t.sitesLoaded),u.lc(5),u.qd(u.Qc(21,15,"core.settings.syncsettings")),u.lc(5),u.rd(" ",u.Qc(26,17,"core.settings.syncdatasaver")," "),u.lc(2),u.Vc("ngModel",t.dataSaver),u.lc(1),u.Vc("ngIf",!t.isOnline||t.dataSaver&&t.limitedConnection),u.lc(1),u.Vc("ngIf",t.isOnline&&(!t.dataSaver||!t.limitedConnection)))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,V.a,M.a,f.l,f.D,C.a,h.a,f.v,k.a,f.P,f.J,f.O,f.I,f.zb,f.d,x.r,x.u,S.t,f.n,S.s,z.a,F.a,S.A,A.a,U.a],pipes:[v.d],styles:["ion-list.core-sitelist[_ngcontent-%COMP%]   .core-sitelist-sitename[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}ion-list.core-sitelist[_ngcontent-%COMP%]   .core-sitelist-sitename[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}"]}),CoreSettingsSynchronizationPage})();var Q=n("Ao69"),G=n("Afn4"),N=n("41gC"),j=n("bFG1"),R=n("D7J2");function CoreSettingsGeneralPage_ion_select_option_19_Template(e,t){if(1&e&&(u.Ec(0,"ion-select-option",15),u.pd(1),u.Dc()),2&e){const e=t.$implicit;u.Vc("value",e.code),u.lc(1),u.qd(e.name)}}const general_c0=function(e){return{"font-size.px":e}};function CoreSettingsGeneralPage_ion_segment_button_26_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-segment-button",16),u.Mc("click",(function CoreSettingsGeneralPage_ion_segment_button_26_Template_ion_segment_button_click_0_listener(n){u.fd(e);const i=t.$implicit;return u.Oc().zoomLevelChanged(n,i.value)})),u.Ec(1,"ion-label"),u.pd(2),u.Pc(3,"translate"),u.zc(4,"span",17),u.Dc(),u.Dc()}if(2&e){const e=t.$implicit,n=u.Oc();u.Vc("value",e.value)("ngStyle",u.ad(6,general_c0,e.style)),u.lc(2),u.rd(" ",u.Qc(3,4,"core.settings.fontsizecharacter")," "),u.lc(2),u.Vc("ngStyle",u.ad(8,general_c0,n.zoomLevels[n.zoomLevels.length-1].style))}}function CoreSettingsGeneralPage_ion_item_27_p_5_Template(e,t){1&e&&(u.Ec(0,"p",21),u.pd(1),u.Pc(2,"translate"),u.Dc()),2&e&&(u.lc(1),u.qd(u.Qc(2,1,"core.settings.forcedsetting")))}function CoreSettingsGeneralPage_ion_item_27_ion_select_option_9_Template(e,t){if(1&e&&(u.Ec(0,"ion-select-option",15),u.pd(1),u.Pc(2,"translate"),u.Dc()),2&e){const e=t.$implicit;u.Vc("value",e),u.lc(1),u.rd(" ",u.Qc(2,2,"core.settings.colorscheme-"+e),"")}}const _c1=function(e){return{header:e}};function CoreSettingsGeneralPage_ion_item_27_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",18),u.Ec(1,"ion-label"),u.Ec(2,"p",4),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.nd(5,CoreSettingsGeneralPage_ion_item_27_p_5_Template,3,3,"p",19),u.Dc(),u.Ec(6,"ion-select",20),u.Mc("ngModelChange",(function CoreSettingsGeneralPage_ion_item_27_Template_ion_select_ngModelChange_6_listener(t){u.fd(e);return u.Oc().selectedScheme=t}))("ionChange",(function CoreSettingsGeneralPage_ion_item_27_Template_ion_select_ionChange_6_listener(t){u.fd(e);return u.Oc().colorSchemeChanged(t)})),u.Pc(7,"translate"),u.Pc(8,"translate"),u.nd(9,CoreSettingsGeneralPage_ion_item_27_ion_select_option_9_Template,3,4,"ion-select-option",6),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,7,"core.settings.colorscheme")),u.lc(2),u.Vc("ngIf",e.colorSchemeDisabled),u.lc(1),u.Vc("ngModel",e.selectedScheme)("cancelText",u.Qc(7,9,"core.cancel"))("disabled",e.colorSchemeDisabled)("interfaceOptions",u.ad(13,_c1,u.Qc(8,11,"core.settings.colorscheme"))),u.lc(3),u.Vc("ngForOf",e.colorSchemes)}}function CoreSettingsGeneralPage_ion_item_28_Template(e,t){1&e&&(u.Ec(0,"ion-item",22),u.Ec(1,"ion-label"),u.Ec(2,"p"),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.qd(u.Qc(4,1,"core.settings.colorscheme-system-notice")))}function CoreSettingsGeneralPage_ion_item_38_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",12),u.Ec(1,"ion-label"),u.Ec(2,"p",4),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Pc(7,"translate"),u.Dc(),u.Ec(8,"ion-button",23),u.Mc("click",(function CoreSettingsGeneralPage_ion_item_38_Template_ion_button_click_8_listener(t){u.fd(e);return u.Oc().openNativeSettings(t)})),u.pd(9),u.Pc(10,"translate"),u.Dc(),u.Dc(),u.Dc()}2&e&&(u.lc(3),u.qd(u.Qc(4,3,"core.settings.ioscookies")),u.lc(3),u.qd(u.Qc(7,5,"core.settings.ioscookiesdescription")),u.lc(3),u.rd(" ",u.Qc(10,7,"core.opensettings")," "))}function CoreSettingsGeneralPage_ion_item_48_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",12),u.Ec(1,"ion-label"),u.Ec(2,"p",4),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Pc(7,"translate"),u.Dc(),u.Dc(),u.Ec(8,"ion-toggle",13),u.Mc("ngModelChange",(function CoreSettingsGeneralPage_ion_item_48_Template_ion_toggle_ngModelChange_8_listener(t){u.fd(e);return u.Oc().analyticsEnabled=t}))("ionChange",(function CoreSettingsGeneralPage_ion_item_48_Template_ion_toggle_ionChange_8_listener(t){u.fd(e);return u.Oc().analyticsEnabledChanged(t)})),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,3,"core.settings.enableanalytics")),u.lc(3),u.qd(u.Qc(7,5,"core.settings.enableanalyticsdescription")),u.lc(2),u.Vc("ngModel",e.analyticsEnabled)}}let W=(()=>{class CoreSettingsGeneralPage{constructor(){this.languages=[],this.selectedLanguage="",this.zoomLevels=[],this.selectedZoomLevel="none",this.richTextEditor=!0,this.debugDisplay=!1,this.analyticsSupported=!1,this.analyticsEnabled=!1,this.colorSchemes=[],this.selectedScheme="light",this.colorSchemeDisabled=!1,this.isAndroid=!1,this.displayIframeHelp=!1,this.asyncInit()}asyncInit(){return Object(s.a)(this,void 0,void 0,(function*(){const e=g.a.CONFIG.languages;for(const t in e)this.languages.push({code:t,name:e[t]});this.languages.sort(((e,t)=>e.name.localeCompare(t.name))),this.selectedLanguage=yield Q.a.getCurrentLanguage(),g.a.CONFIG.forceColorScheme||(this.colorSchemeDisabled=y.a.isColorSchemeDisabledInSite(),this.colorSchemeDisabled?(this.colorSchemes.push("light"),this.selectedScheme=this.colorSchemes[0]):(this.isAndroid=p.a.isAndroid(),this.colorSchemes=y.a.getAllowedColorSchemes(),this.selectedScheme=yield E.a.get(g.a.SETTINGS_COLOR_SCHEME,"light"))),this.selectedZoomLevel=yield y.a.getZoomLevel(),this.zoomLevels=Object.keys(g.a.CONFIG.zoomlevels).map((e=>({value:e,style:Math.round(16*g.a.CONFIG.zoomlevels[e]/100),selected:e===this.selectedZoomLevel}))),this.richTextEditor=yield E.a.get(g.a.SETTINGS_RICH_TEXT_EDITOR,!0),this.debugDisplay=yield E.a.get(g.a.SETTINGS_DEBUG_DISPLAY,!1),this.analyticsSupported=R.a.hasHandlers(),this.analyticsSupported&&(this.analyticsEnabled=yield E.a.get(g.a.SETTINGS_ANALYTICS_ENABLED,!0)),this.displayIframeHelp=N.a.shouldDisplayHelp()}))}languageChanged(e){var t;return Object(s.a)(this,void 0,void 0,(function*(){e.stopPropagation(),e.preventDefault();const n=yield Q.a.getCurrentLanguage();if(this.selectedLanguage===n)return;const i=T.I.instant("core.cancel");try{yield Q.a.changeCurrentLanguage(this.selectedLanguage)}finally{const e=null===(t=this.languages.find((e=>e.code==this.selectedLanguage)))||void 0===t?void 0:t.name,c=[{text:i,role:"cancel",handler:()=>{clearTimeout(a),this.selectedLanguage=n,Q.a.changeCurrentLanguage(this.selectedLanguage)}},{text:T.I.instant("core.settings.changelanguage",{$a:e}),cssClass:"timed-button",handler:()=>{clearTimeout(a),this.applyLanguageAndRestart()}}],o=yield I.a.showAlertWithOptions({message:T.I.instant("core.settings.changelanguagealert"),buttons:c}),a=window.setTimeout((()=>Object(s.a)(this,void 0,void 0,(function*(){yield o.dismiss(),this.applyLanguageAndRestart()}))),1e4)}}))}applyLanguageAndRestart(){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield b.b.getSitesInstances();yield j.a.ignoreErrors(Promise.all(e.map((e=>e.invalidateWsCache())))),P.b.trigger(P.b.LANGUAGE_CHANGED,this.selectedLanguage),w.a.navigate("/reload",{reset:!0})}))}zoomLevelChanged(e,t){e.stopPropagation(),e.preventDefault(),this.selectedZoomLevel=t,this.zoomLevels=this.zoomLevels.map((e=>(e.selected=e.value===this.selectedZoomLevel,e))),y.a.applyZoomLevel(this.selectedZoomLevel),E.a.set(g.a.SETTINGS_ZOOM_LEVEL,this.selectedZoomLevel)}colorSchemeChanged(e){e.stopPropagation(),e.preventDefault(),y.a.setColorScheme(this.selectedScheme),E.a.set(g.a.SETTINGS_COLOR_SCHEME,this.selectedScheme)}richTextEditorChanged(e){e.stopPropagation(),e.preventDefault(),E.a.set(g.a.SETTINGS_RICH_TEXT_EDITOR,this.richTextEditor?1:0)}debugDisplayChanged(e){e.stopPropagation(),e.preventDefault(),E.a.set(g.a.SETTINGS_DEBUG_DISPLAY,this.debugDisplay?1:0),I.a.setDebugDisplay(this.debugDisplay)}analyticsEnabledChanged(e){return Object(s.a)(this,void 0,void 0,(function*(){e.stopPropagation(),e.preventDefault(),yield G.a.enableAnalytics(this.analyticsEnabled),E.a.set(g.a.SETTINGS_ANALYTICS_ENABLED,this.analyticsEnabled?1:0)}))}openNativeSettings(e){e.stopPropagation(),e.preventDefault(),T.j.switchToSettings()}}return CoreSettingsGeneralPage.ɵfac=function CoreSettingsGeneralPage_Factory(e){return new(e||CoreSettingsGeneralPage)},CoreSettingsGeneralPage.ɵcmp=u.sc({type:CoreSettingsGeneralPage,selectors:[["page-core-app-settings-general"]],decls:49,vars:42,consts:[["slot","start"],[3,"text"],[1,"list-item-limited-width"],["lines","none",1,"ion-text-wrap"],[1,"item-heading"],["interface","action-sheet",3,"ngModel","cancelText","interfaceOptions","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap","core-settings-general-font-size","item-interactive"],["color","primary",3,"ngModel","ngModelChange"],[3,"value","ngStyle","click",4,"ngFor","ngForOf"],["class","ion-text-wrap core-settings-general-color-scheme","lines","none",4,"ngIf"],["text-wrap","","lines","none",4,"ngIf"],[1,"ion-text-wrap"],[3,"ngModel","ngModelChange","ionChange"],["class","ion-text-wrap",4,"ngIf"],[3,"value"],[3,"value","ngStyle","click"],[3,"ngStyle"],["lines","none",1,"ion-text-wrap","core-settings-general-color-scheme"],["class","text-danger",4,"ngIf"],["interface","action-sheet",3,"ngModel","cancelText","disabled","interfaceOptions","ngModelChange","ionChange"],[1,"text-danger"],["text-wrap","","lines","none"],["expand","block",3,"click"]],template:function CoreSettingsGeneralPage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Ec(9,"ion-content"),u.Ec(10,"ion-list",2),u.Ec(11,"ion-item",3),u.Ec(12,"ion-label"),u.Ec(13,"p",4),u.pd(14),u.Pc(15,"translate"),u.Dc(),u.Dc(),u.Ec(16,"ion-select",5),u.Mc("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_select_ngModelChange_16_listener(e){return t.selectedLanguage=e}))("ionChange",(function CoreSettingsGeneralPage_Template_ion_select_ionChange_16_listener(e){return t.languageChanged(e)})),u.Pc(17,"translate"),u.Pc(18,"translate"),u.nd(19,CoreSettingsGeneralPage_ion_select_option_19_Template,2,2,"ion-select-option",6),u.Dc(),u.Dc(),u.Ec(20,"ion-item",7),u.Ec(21,"ion-label"),u.Ec(22,"p",4),u.pd(23),u.Pc(24,"translate"),u.Dc(),u.Dc(),u.Ec(25,"ion-segment",8),u.Mc("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_segment_ngModelChange_25_listener(e){return t.selectedZoomLevel=e})),u.nd(26,CoreSettingsGeneralPage_ion_segment_button_26_Template,5,10,"ion-segment-button",9),u.Dc(),u.Dc(),u.nd(27,CoreSettingsGeneralPage_ion_item_27_Template,10,15,"ion-item",10),u.nd(28,CoreSettingsGeneralPage_ion_item_28_Template,5,3,"ion-item",11),u.Ec(29,"ion-item",12),u.Ec(30,"ion-label"),u.Ec(31,"p",4),u.pd(32),u.Pc(33,"translate"),u.Dc(),u.Ec(34,"p"),u.pd(35),u.Pc(36,"translate"),u.Dc(),u.Dc(),u.Ec(37,"ion-toggle",13),u.Mc("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_37_listener(e){return t.richTextEditor=e}))("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_37_listener(e){return t.richTextEditorChanged(e)})),u.Dc(),u.Dc(),u.nd(38,CoreSettingsGeneralPage_ion_item_38_Template,11,9,"ion-item",14),u.Ec(39,"ion-item",12),u.Ec(40,"ion-label"),u.Ec(41,"p",4),u.pd(42),u.Pc(43,"translate"),u.Dc(),u.Ec(44,"p"),u.pd(45),u.Pc(46,"translate"),u.Dc(),u.Dc(),u.Ec(47,"ion-toggle",13),u.Mc("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_47_listener(e){return t.debugDisplay=e}))("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_47_listener(e){return t.debugDisplayChanged(e)})),u.Dc(),u.Dc(),u.nd(48,CoreSettingsGeneralPage_ion_item_48_Template,9,7,"ion-item",14),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,20,"core.back")),u.lc(4),u.qd(u.Qc(8,22,"core.settings.general")),u.lc(7),u.qd(u.Qc(15,24,"core.settings.language")),u.lc(2),u.Vc("ngModel",t.selectedLanguage)("cancelText",u.Qc(17,26,"core.cancel"))("interfaceOptions",u.ad(40,_c1,u.Qc(18,28,"core.settings.language"))),u.lc(3),u.Vc("ngForOf",t.languages),u.lc(4),u.qd(u.Qc(24,30,"core.settings.fontsize")),u.lc(2),u.Vc("ngModel",t.selectedZoomLevel),u.lc(1),u.Vc("ngForOf",t.zoomLevels),u.lc(1),u.Vc("ngIf",t.colorSchemes.length>0),u.lc(1),u.Vc("ngIf",t.colorSchemes.length>0&&"system"==t.selectedScheme&&t.isAndroid),u.lc(4),u.qd(u.Qc(33,32,"core.settings.enablerichtexteditor")),u.lc(3),u.qd(u.Qc(36,34,"core.settings.enablerichtexteditordescription")),u.lc(2),u.Vc("ngModel",t.richTextEditor),u.lc(1),u.Vc("ngIf",t.displayIframeHelp),u.lc(4),u.qd(u.Qc(43,36,"core.settings.debugdisplay")),u.lc(3),u.qd(u.Qc(46,38,"core.settings.debugdisplaydescription")),u.lc(2),u.Vc("ngModel",t.debugDisplay),u.lc(1),u.Vc("ngIf",t.analyticsSupported))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,h.a,f.v,f.P,f.I,f.O,f.lb,f.Ob,x.r,x.u,S.s,f.jb,S.t,f.zb,f.d,f.mb,f.kb,S.w,M.a,f.l],pipes:[v.d],styles:["[_nghost-%COMP%]   .core-settings-general-font-size[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{max-width:250px}"]}),CoreSettingsGeneralPage})();var B=n("1iFe");function CoreSettingsSpaceUsagePage_ion_card_17_ng_container_9_Template(e,t){1&e&&u.Ac(0)}function CoreSettingsSpaceUsagePage_ion_card_17_ion_item_10_ng_container_1_Template(e,t){1&e&&u.Ac(0)}const space_usage_c0=function(e){return{site:e}};function CoreSettingsSpaceUsagePage_ion_card_17_ion_item_10_Template(e,t){if(1&e&&(u.Ec(0,"ion-item"),u.nd(1,CoreSettingsSpaceUsagePage_ion_card_17_ion_item_10_ng_container_1_Template,1,0,"ng-container",17),u.Dc()),2&e){const e=t.$implicit;u.Oc(2);const n=u.ed(28);u.lc(1),u.Vc("ngTemplateOutlet",n)("ngTemplateOutletContext",u.ad(2,space_usage_c0,e))}}function CoreSettingsSpaceUsagePage_ion_card_17_Template(e,t){if(1&e&&(u.Ec(0,"ion-card"),u.Ec(1,"ion-item-divider",13),u.Ec(2,"ion-label"),u.Ec(3,"p",10),u.zc(4,"core-format-text",14),u.Dc(),u.Ec(5,"p"),u.Ec(6,"a",15),u.pd(7),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Ec(8,"ion-item",16),u.nd(9,CoreSettingsSpaceUsagePage_ion_card_17_ng_container_9_Template,1,0,"ng-container",17),u.Dc(),u.nd(10,CoreSettingsSpaceUsagePage_ion_card_17_ion_item_10_Template,2,4,"ion-item",9),u.Dc()),2&e){const e=u.Oc(),t=u.ed(28);u.lc(4),u.Vc("text",e.accountsList.currentSite.siteName)("siteId",e.accountsList.currentSite.id),u.lc(2),u.Vc("href",e.accountsList.currentSite.siteUrl,u.id),u.lc(1),u.qd(e.accountsList.currentSite.siteUrlWithoutProtocol),u.lc(2),u.Vc("ngTemplateOutlet",t)("ngTemplateOutletContext",u.ad(7,space_usage_c0,e.accountsList.currentSite)),u.lc(1),u.Vc("ngForOf",e.accountsList.sameSite)}}function CoreSettingsSpaceUsagePage_ion_card_18_ion_item_divider_1_Template(e,t){if(1&e&&(u.Ec(0,"ion-item-divider",13),u.Ec(1,"ion-label"),u.Ec(2,"p",10),u.zc(3,"core-format-text",14),u.Dc(),u.Ec(4,"p"),u.Ec(5,"a",19),u.pd(6),u.Dc(),u.Dc(),u.Dc(),u.Dc()),2&e){const e=u.Oc().$implicit;u.lc(3),u.Vc("text",e[0].siteName)("siteId",e[0].id),u.lc(2),u.Vc("href",e[0].siteUrl,u.id),u.lc(1),u.qd(e[0].siteUrlWithoutProtocol)}}function CoreSettingsSpaceUsagePage_ion_card_18_ion_item_2_ng_container_1_Template(e,t){1&e&&u.Ac(0)}function CoreSettingsSpaceUsagePage_ion_card_18_ion_item_2_Template(e,t){if(1&e&&(u.Ec(0,"ion-item"),u.nd(1,CoreSettingsSpaceUsagePage_ion_card_18_ion_item_2_ng_container_1_Template,1,0,"ng-container",17),u.Dc()),2&e){const e=t.$implicit;u.Oc(2);const n=u.ed(28);u.lc(1),u.Vc("ngTemplateOutlet",n)("ngTemplateOutletContext",u.ad(2,space_usage_c0,e))}}function CoreSettingsSpaceUsagePage_ion_card_18_Template(e,t){if(1&e&&(u.Ec(0,"ion-card"),u.nd(1,CoreSettingsSpaceUsagePage_ion_card_18_ion_item_divider_1_Template,7,4,"ion-item-divider",18),u.nd(2,CoreSettingsSpaceUsagePage_ion_card_18_ion_item_2_Template,2,4,"ion-item",9),u.Dc()),2&e){const e=t.$implicit;u.lc(1),u.Vc("ngIf",e[0]),u.lc(1),u.Vc("ngForOf",e)}}function CoreSettingsSpaceUsagePage_ng_template_27_ion_badge_4_Template(e,t){if(1&e&&(u.Ec(0,"ion-badge",25),u.pd(1),u.Pc(2,"coreBytesToSize"),u.Dc()),2&e){const e=u.Oc().site;u.lc(1),u.qd(u.Qc(2,1,e.spaceUsage))}}const space_usage_c1=function(e){return{name:e}};function CoreSettingsSpaceUsagePage_ng_template_27_Template(e,t){if(1&e){const e=u.Fc();u.zc(0,"core-user-avatar",20),u.Ec(1,"ion-label",21),u.Ec(2,"p",10),u.pd(3),u.Dc(),u.nd(4,CoreSettingsSpaceUsagePage_ng_template_27_ion_badge_4_Template,3,3,"ion-badge",22),u.Dc(),u.Ec(5,"ion-button",23),u.Mc("click",(function CoreSettingsSpaceUsagePage_ng_template_27_Template_ion_button_click_5_listener(){u.fd(e);const n=t.site;return u.Oc().deleteSiteStorage(n)})),u.zc(6,"ion-icon",24),u.Pc(7,"translate"),u.Dc()}if(2&e){const e=t.site;u.Vc("user",e)("linkProfile",!1)("siteId",e.id),u.lc(3),u.qd(e.fullname),u.lc(1),u.Vc("ngIf",void 0!==e.spaceUsage),u.lc(1),u.Vc("hidden",e.spaceUsage<=0&&!e.hasCacheEntries),u.lc(1),u.mc("aria-label",u.Rc(7,7,"addon.storagemanager.deletedatafrom",u.ad(10,space_usage_c1,e.siteName)))}}let $=(()=>{class CoreSettingsSpaceUsagePage{constructor(){this.loaded=!1,this.totalSpaceUsage=0,this.accountsList={sameSite:[],otherSites:[]},this.sitesObserver=P.b.on(P.b.SITE_UPDATED,(e=>Object(s.a)(this,void 0,void 0,(function*(){var t;const n=e.siteId;let i=n===(null===(t=this.accountsList.currentSite)||void 0===t?void 0:t.id)?this.accountsList.currentSite:void 0;if(i||(i=this.accountsList.sameSite.find((e=>e.id===n))),i||this.accountsList.otherSites.some((e=>(i=e.find((e=>e.id===n)),i))),!i)return;const c=yield b.b.getSite(n),o=c.getInfo();i.siteName=yield c.getSiteName(),o&&(i.siteUrl=o.siteurl,i.fullname=o.fullname)}))))}ngOnInit(){this.loadSiteData().finally((()=>{this.loaded=!0}))}loadSiteData(){return Object(s.a)(this,void 0,void 0,(function*(){let e=0;const t=yield j.a.ignoreErrors(b.b.getSortedSites(),[]),n=yield Promise.all(t.map((e=>this.getSiteWithUsage(e))));let i="";const c=b.b.getCurrentSiteId();if(c){const t=n.findIndex((e=>e.id===c)),o=n.splice(t,1)[0];this.accountsList.currentSite=o,e+=o.spaceUsage||0,i=this.accountsList.currentSite.siteUrlWithoutProtocol}const o={};n.forEach((t=>{e+=t.spaceUsage||0,t.siteUrlWithoutProtocol===i?this.accountsList.sameSite.push(t):(void 0===o[t.siteUrlWithoutProtocol]&&(o[t.siteUrlWithoutProtocol]=[]),o[t.siteUrlWithoutProtocol].push(t))})),this.accountsList.otherSites=j.a.objectToArray(o),this.totalSpaceUsage=e}))}getSiteWithUsage(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield y.a.getSiteSpaceUsage(e.id);return Object.assign(e,{hasCacheEntries:t.cacheEntries>0,spaceUsage:t.spaceUsage})}))}refreshData(e){this.loadSiteData().finally((()=>{null==e?void 0:e.complete()}))}deleteSiteStorage(e){return Object(s.a)(this,void 0,void 0,(function*(){try{const t=yield y.a.deleteSiteStorage(e.siteName||"",e.id);this.totalSpaceUsage-=e.spaceUsage-t.spaceUsage,e.spaceUsage=t.spaceUsage,e.hasCacheEntries=t.cacheEntries>0}catch(e){}}))}ngOnDestroy(){this.sitesObserver.off()}}return CoreSettingsSpaceUsagePage.ɵfac=function CoreSettingsSpaceUsagePage_Factory(e){return new(e||CoreSettingsSpaceUsagePage)},CoreSettingsSpaceUsagePage.ɵcmp=u.sc({type:CoreSettingsSpaceUsagePage,selectors:[["page-core-app-settings-space-usage"]],decls:29,vars:19,consts:[["slot","start"],[3,"text"],["slot","end"],[1,"limited-width"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"hideUntil"],[1,"core-sitelist","limited-width"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-heading"],["slot","end",1,"ion-margin-end"],["siteUsage",""],["sticky","true",1,"core-sitelist-sitename"],["clean","true",3,"text","siteId"],["core-link","","autoLogin","yes",3,"href"],[1,"item-current"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["sticky","true","class","core-sitelist-sitename",4,"ngIf"],["core-link","","autoLogin","no",3,"href"],["slot","start",3,"user","linkProfile","siteId"],[1,"ion-text-wrap"],["color","light",4,"ngIf"],["fill","clear","color","danger","slot","end",3,"hidden","click"],["name","fas-trash","slot","icon-only"],["color","light"]],template:function CoreSettingsSpaceUsagePage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.Ec(9,"ion-buttons",2),u.zc(10,"core-navbar-buttons"),u.Dc(),u.Dc(),u.Dc(),u.Ec(11,"ion-content",3),u.Ec(12,"ion-refresher",4),u.Mc("ionRefresh",(function CoreSettingsSpaceUsagePage_Template_ion_refresher_ionRefresh_12_listener(e){return t.refreshData(e.target)})),u.zc(13,"ion-refresher-content",5),u.Pc(14,"translate"),u.Dc(),u.Ec(15,"core-loading",6),u.Ec(16,"ion-list",7),u.nd(17,CoreSettingsSpaceUsagePage_ion_card_17_Template,11,9,"ion-card",8),u.nd(18,CoreSettingsSpaceUsagePage_ion_card_18_Template,3,2,"ion-card",9),u.Ec(19,"ion-item-divider"),u.Ec(20,"ion-label"),u.Ec(21,"p",10),u.pd(22),u.Pc(23,"translate"),u.Dc(),u.Dc(),u.Ec(24,"p",11),u.pd(25),u.Pc(26,"coreBytesToSize"),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.nd(27,CoreSettingsSpaceUsagePage_ng_template_27_Template,8,12,"ng-template",null,12,u.od)),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,9,"core.back")),u.lc(4),u.qd(u.Qc(8,11,"core.settings.spaceusage")),u.lc(5),u.Vc("disabled",!t.loaded),u.lc(1),u.Wc("pullingText",u.Qc(14,13,"core.pulltorefresh")),u.lc(2),u.Vc("hideUntil",t.loaded),u.lc(2),u.Vc("ngIf",t.accountsList.currentSite),u.lc(1),u.Vc("ngForOf",t.accountsList.otherSites),u.lc(4),u.qd(u.Qc(23,15,"core.settings.total")),u.lc(3),u.rd(" ",u.Qc(26,17,t.totalSpaceUsage)," "))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,V.a,h.a,f.v,f.bb,f.cb,k.a,f.P,S.t,S.s,f.J,f.O,f.n,z.a,F.a,f.I,S.A,A.a,M.a,f.l,f.D,C.a,f.k],pipes:[v.d,B.a],encapsulation:2}),CoreSettingsSpaceUsagePage})();function CoreSettingsAboutPage_ion_item_16_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",10),u.zc(1,"ion-icon",11),u.Ec(2,"ion-label"),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Dc()),2&e){const e=u.Oc();u.Vc("href",e.privacyPolicy),u.lc(3),u.qd(u.Qc(4,2,"core.settings.privacypolicy"))}}function CoreSettingsAboutPage_ion_item_17_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",10),u.zc(1,"ion-icon",12),u.Ec(2,"ion-label"),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Dc()),2&e){const e=u.Oc();u.Vc("href",e.a11yStatement),u.lc(3),u.qd(u.Qc(4,2,"core.settings.accessstatement"))}}function CoreSettingsAboutPage_ion_item_18_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",13),u.zc(1,"ion-icon",14),u.Ec(2,"ion-label"),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Dc()),2&e){const e=u.Oc();u.Vc("href",e.feedbackFormUrl),u.lc(3),u.qd(u.Qc(4,2,"core.settings.helpusimprove"))}}function CoreSettingsAboutPage_ion_item_19_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",10),u.zc(1,"ion-icon",15),u.Ec(2,"ion-label"),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Dc()),2&e){const e=u.Oc();u.Vc("href",e.legalDisclaimer),u.lc(3),u.qd(u.Qc(4,2,"core.settings.legaldisclaimer"))}}let H=(()=>{class CoreSettingsAboutPage{constructor(){var e,t,n;this.feedbackFormUrl=null!==(e=g.a.CONFIG.feedbackFormUrl)&&void 0!==e?e:"https://feedback.moodle.org/mobileapp",this.a11yStatement=null!==(t=g.a.CONFIG.a11yStatement)&&void 0!==t?t:"https://apps.moodle.com/admin/tool/policy/view.php?versionid=5",this.showSurvey=!1,this.legalDisclaimer=g.a.CONFIG.legalDisclaimer,this.currentSite=b.b.getCurrentSite(),this.appName=g.a.CONFIG.appname,this.versionName=g.a.CONFIG.versionname,this.privacyPolicy=this.currentSite&&(this.currentSite.getStoredConfig("tool_mobile_apppolicy")||this.currentSite.getStoredConfig("sitepolicy"))||g.a.CONFIG.privacypolicy,this.showSurvey=null===(n=this.currentSite)||void 0===n?void 0:n.isAdmin()}openPage(e){w.a.navigate(e)}}return CoreSettingsAboutPage.ɵfac=function CoreSettingsAboutPage_Factory(e){return new(e||CoreSettingsAboutPage)},CoreSettingsAboutPage.ɵcmp=u.sc({type:CoreSettingsAboutPage,selectors:[["page-core-app-settings-about"]],decls:25,vars:15,consts:[["slot","start"],[3,"text"],[1,"list-item-limited-width"],["button","","detail","true",1,"ion-text-wrap",3,"click"],["name","far-copyright","slot","start","aria-hidden","true"],["class","ion-text-wrap","button","","core-link","","auto-login","no","detail","true","detailIcon","open-outline",3,"href",4,"ngIf"],["class","ion-text-wrap","button","","core-link","","detail","true","detailIcon","open-outline",3,"href",4,"ngIf"],[1,"ion-no-border"],["button","","detail","false",1,"ion-text-wrap","ion-text-center","core-about-deviceinfo",3,"click"],[1,"item-heading"],["button","","core-link","","auto-login","no","detail","true","detailIcon","open-outline",1,"ion-text-wrap",3,"href"],["name","fas-user-shield","slot","start","aria-hidden","true"],["name","fas-universal-access","slot","start","aria-hidden","true"],["button","","core-link","","detail","true","detailIcon","open-outline",1,"ion-text-wrap",3,"href"],["name","fas-bullhorn","slot","start","aria-hidden","true"],["name","fas-scale-balanced","slot","start","aria-hidden","true"]],template:function CoreSettingsAboutPage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Ec(9,"ion-content"),u.Ec(10,"ion-list",2),u.Ec(11,"ion-item",3),u.Mc("click",(function CoreSettingsAboutPage_Template_ion_item_click_11_listener(){return t.openPage("licenses")})),u.zc(12,"ion-icon",4),u.Ec(13,"ion-label"),u.pd(14),u.Pc(15,"translate"),u.Dc(),u.Dc(),u.nd(16,CoreSettingsAboutPage_ion_item_16_Template,5,4,"ion-item",5),u.nd(17,CoreSettingsAboutPage_ion_item_17_Template,5,4,"ion-item",5),u.nd(18,CoreSettingsAboutPage_ion_item_18_Template,5,4,"ion-item",6),u.nd(19,CoreSettingsAboutPage_ion_item_19_Template,5,4,"ion-item",5),u.Dc(),u.Dc(),u.Ec(20,"ion-footer",7),u.Ec(21,"ion-item",8),u.Mc("click",(function CoreSettingsAboutPage_Template_ion_item_click_21_listener(){return t.openPage("deviceinfo")})),u.Ec(22,"ion-label"),u.Ec(23,"p",9),u.pd(24),u.Dc(),u.Dc(),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,9,"core.back")),u.lc(4),u.rd(" ",u.Qc(8,11,"core.settings.about")," "),u.lc(7),u.qd(u.Qc(15,13,"core.settings.opensourcelicenses")),u.lc(2),u.Vc("ngIf",t.privacyPolicy),u.lc(1),u.Vc("ngIf",t.a11yStatement),u.lc(1),u.Vc("ngIf",t.currentSite&&t.feedbackFormUrl&&t.showSurvey),u.lc(1),u.Vc("ngIf",t.legalDisclaimer),u.lc(5),u.sd("",t.appName," ",t.versionName,""))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,h.a,f.v,f.P,f.I,f.D,C.a,f.O,S.t,f.A,F.a],pipes:[v.d],styles:[".core-about-deviceinfo[_ngcontent-%COMP%]{--background:transparent}"]}),CoreSettingsAboutPage})();function CoreSettingsLicensesPage_ion_item_14_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",7),u.Ec(1,"ion-label"),u.pd(2),u.Pc(3,"translate"),u.Dc(),u.Ec(4,"ion-button",8),u.pd(5),u.Pc(6,"translate"),u.Dc(),u.Dc()),2&e){const e=u.Oc();u.Vc("href",e.licensesUrl),u.lc(2),u.rd(" ",u.Qc(3,4,"core.settings.opensourcelicenses")," "),u.lc(2),u.Vc("href",e.licensesUrl),u.lc(1),u.rd(" ",u.Qc(6,6,"core.view"),"")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template(e,t){if(1&e&&(u.Ec(0,"a",16),u.pd(1),u.Dc()),2&e){const e=u.Oc().$implicit;u.Vc("href",e.repository,u.id),u.lc(1),u.qd(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template(e,t){if(1&e&&(u.Cc(0),u.pd(1),u.Bc()),2&e){const e=u.Oc().$implicit;u.lc(1),u.qd(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template(e,t){if(1&e&&(u.Ec(0,"p",11),u.pd(1),u.Pc(2,"translate"),u.Pc(3,"translate"),u.Dc()),2&e){const e=u.Oc().$implicit;u.lc(1),u.td(" ",u.Qc(2,3,"core.settings.publisher"),"",u.Qc(3,5,"core.labelsep")," ",e.publisher," ")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template(e,t){if(1&e&&(u.Ec(0,"a",16),u.pd(1),u.Dc()),2&e){const e=u.Oc().$implicit;u.Vc("href",e.url,u.id),u.lc(1),u.qd(e.url)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template(e,t){if(1&e&&(u.Ec(0,"a",17),u.pd(1),u.Dc()),2&e){const e=u.Oc().$implicit;u.Vc("href","mailto:"+e.email,u.id)("showBrowserWarning",!1),u.lc(1),u.qd(e.email)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template(e,t){if(1&e&&(u.Ec(0,"ion-button",8),u.pd(1),u.Pc(2,"translate"),u.Dc()),2&e){const e=u.Oc().$implicit;u.Vc("href",e.licenseUrl),u.lc(1),u.qd(u.Qc(2,2,"core.view"))}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",10),u.Ec(1,"ion-label"),u.Ec(2,"p",11),u.nd(3,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template,2,2,"a",12),u.nd(4,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template,2,1,"ng-container",6),u.pd(5),u.Dc(),u.nd(6,CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template,4,7,"p",13),u.Ec(7,"p"),u.pd(8),u.Pc(9,"translate"),u.Pc(10,"translate"),u.Dc(),u.Ec(11,"p"),u.nd(12,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template,2,2,"a",12),u.Dc(),u.Ec(13,"p"),u.nd(14,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template,2,3,"a",14),u.Dc(),u.Dc(),u.nd(15,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template,3,4,"ion-button",15),u.Dc()),2&e){const e=t.$implicit;u.lc(3),u.Vc("ngIf",e.repository),u.lc(1),u.Vc("ngIf",!e.repository),u.lc(1),u.rd(" - ",e.version," "),u.lc(1),u.Vc("ngIf",e.publisher),u.lc(2),u.td("",u.Qc(9,10,"core.settings.license"),"",u.Qc(10,12,"core.labelsep")," ",e.licenses,""),u.lc(4),u.Vc("ngIf",e.url),u.lc(2),u.Vc("ngIf",e.email),u.lc(1),u.Vc("ngIf",e.licenseUrl)}}function CoreSettingsLicensesPage_ng_container_15_Template(e,t){if(1&e&&(u.Cc(0),u.nd(1,CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template,16,14,"ion-item",9),u.Bc()),2&e){const e=u.Oc();u.lc(1),u.Vc("ngForOf",e.licenses)}}let Z=(()=>{class CoreSettingsLicensesPage{constructor(){this.loaded=!1,this.licenses=[],this.error=!1,this.textFilter="",this.allLicenses=[],this.appLicenseVersion=g.a.CONFIG.versionname.indexOf("-")>0?"main":"v"+g.a.CONFIG.versionname,this.licensesUrl="https://raw.githubusercontent.com/moodlehq/moodleapp/"+this.appLicenseVersion+"/licenses.json"}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){try{const e=yield T.q.get(this.licensesUrl).toPromise();this.allLicenses=Object.keys(e).map((t=>{const n=e[t],i=t.lastIndexOf("@");if(n.name=t.substring(0,i),n.version=t.substring(i+1),Array.isArray(n.licenses)&&(n.licenses=n.licenses.join(", ")),n.repository&&(n.repository=n.repository.replace("git://","https://"),n.repository.indexOf("github.com")>0)){n.licenseUrl=n.repository+"/blob/"+("moodlemobile"==n.name?this.appLicenseVersion:n.version)+"/"+n.licenseFile}return n})),this.filterLicenses(),this.error=!1}catch(e){this.error=!0}this.loaded=!0}))}filterLicenses(){const e=this.textFilter.trim().toLowerCase();if(""==e)return this.licenses=this.allLicenses,void 0;this.licenses=this.allLicenses.filter((t=>t.name.toLowerCase().indexOf(e)>=0||t.version.toLowerCase().indexOf(e)>=0||"string"==typeof t.licenses&&t.licenses.toLowerCase().indexOf(e)>=0||t.repository&&t.repository.toLowerCase().indexOf(e)>=0||t.publisher&&t.publisher.toLowerCase().indexOf(e)>=0||t.url&&t.url.toLowerCase().indexOf(e)>=0||t.email&&t.email.toLowerCase().indexOf(e)>=0))}filterChanged(e){this.textFilter=e.value||"",this.filterLicenses()}}return CoreSettingsLicensesPage.ɵfac=function CoreSettingsLicensesPage_Factory(e){return new(e||CoreSettingsLicensesPage)},CoreSettingsLicensesPage.ɵcmp=u.sc({type:CoreSettingsLicensesPage,selectors:[["page-core-app-settings-licenses"]],decls:16,vars:13,consts:[["slot","start"],[3,"text"],[1,"limited-width"],[3,"hideUntil"],[3,"ngModel","placeholder","ngModelChange","ionInput","ionCancel"],["button","","class","ion-text-wrap","core-link","","auto-login","no",3,"href",4,"ngIf"],[4,"ngIf"],["button","","core-link","","auto-login","no",1,"ion-text-wrap",3,"href"],["target","_blank","fill","clear","slot","end","core-link","","auto-login","no",3,"href"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"ion-text-wrap"],[1,"item-heading"],["core-link","","auto-login","no",3,"href",4,"ngIf"],["class","item-heading",4,"ngIf"],["core-link","","auto-login","no",3,"href","showBrowserWarning",4,"ngIf"],["target","_blank","fill","clear","slot","end","core-link","","auto-login","no",3,"href",4,"ngIf"],["core-link","","auto-login","no",3,"href"],["core-link","","auto-login","no",3,"href","showBrowserWarning"]],template:function CoreSettingsLicensesPage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Ec(9,"ion-content",2),u.Ec(10,"core-loading",3),u.Ec(11,"ion-searchbar",4),u.Mc("ngModelChange",(function CoreSettingsLicensesPage_Template_ion_searchbar_ngModelChange_11_listener(e){return t.textFilter=e}))("ionInput",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionInput_11_listener(e){return t.filterChanged(e.target)}))("ionCancel",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionCancel_11_listener(e){return t.filterChanged(e.target)})),u.Pc(12,"translate"),u.Dc(),u.Ec(13,"ion-list"),u.nd(14,CoreSettingsLicensesPage_ion_item_14_Template,7,8,"ion-item",5),u.nd(15,CoreSettingsLicensesPage_ng_container_15_Template,2,1,"ng-container",6),u.Dc(),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,7,"core.back")),u.lc(4),u.qd(u.Qc(8,9,"core.settings.opensourcelicenses")),u.lc(3),u.Vc("hideUntil",t.loaded),u.lc(1),u.Vc("ngModel",t.textFilter)("placeholder",u.Qc(12,11,"core.filter")),u.lc(3),u.Vc("ngIf",t.error),u.lc(1),u.Vc("ngIf",!t.error))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,h.a,f.v,k.a,f.ib,f.Pb,x.r,x.u,f.P,S.t,f.I,F.a,f.O,M.a,f.l,S.s],pipes:[v.d],encapsulation:2}),CoreSettingsLicensesPage})();var Y=n("ANhT"),J=n("EmGO"),X=n("iJls"),K=n("uYHD");function CoreSettingsDeviceInfoPage_ion_item_15_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",13),u.Mc("click",(function CoreSettingsDeviceInfoPage_ion_item_15_Template_ion_item_click_0_listener(){u.fd(e);return u.Oc().gotoDevOptions()})),u.zc(1,"ion-icon",14),u.Ec(2,"ion-label",8),u.Ec(3,"p",9),u.pd(4),u.Pc(5,"translate"),u.Dc(),u.Dc(),u.Dc()}2&e&&(u.lc(4),u.qd(u.Qc(5,1,"core.settings.developeroptions")))}function CoreSettingsDeviceInfoPage_p_28_Template(e,t){if(1&e&&(u.Ec(0,"p"),u.pd(1),u.Pc(2,"coreFormatDate"),u.Dc()),2&e){const e=u.Oc();u.lc(1),u.qd(u.Sc(2,1,e.deviceInfo.compilationTime,"LLL Z",!1))}}function CoreSettingsDeviceInfoPage_p_29_Template(e,t){if(1&e&&(u.Ec(0,"p"),u.pd(1),u.Dc()),2&e){const e=u.Oc();u.lc(1),u.qd(e.deviceInfo.lastCommit)}}function CoreSettingsDeviceInfoPage_ion_item_30_ng_container_5_Template(e,t){1&e&&(u.Cc(0),u.pd(1," *"),u.Bc())}function CoreSettingsDeviceInfoPage_ion_item_30_p_9_Template(e,t){if(1&e&&(u.Ec(0,"p"),u.pd(1),u.Dc()),2&e){const e=u.Oc(2);u.lc(1),u.qd(e.deviceInfo.siteVersion)}}function CoreSettingsDeviceInfoPage_ion_item_30_p_10_Template(e,t){if(1&e&&(u.Ec(0,"p"),u.pd(1),u.Dc()),2&e){const e=u.Oc(2);u.lc(1),u.qd(e.deviceInfo.siteId)}}function CoreSettingsDeviceInfoPage_ion_item_30_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_30_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.nd(5,CoreSettingsDeviceInfoPage_ion_item_30_ng_container_5_Template,2,0,"ng-container",11),u.Dc(),u.Ec(6,"p"),u.Ec(7,"a",15),u.pd(8),u.Dc(),u.Dc(),u.nd(9,CoreSettingsDeviceInfoPage_ion_item_30_p_9_Template,2,1,"p",11),u.nd(10,CoreSettingsDeviceInfoPage_ion_item_30_p_10_Template,2,1,"p",11),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,6,"core.settings.siteinfo")),u.lc(2),u.Vc("ngIf",e.deviceInfo.isPrefixedUrl),u.lc(2),u.Vc("href",e.deviceInfo.siteUrl,u.id),u.lc(1),u.qd(e.deviceInfo.siteUrl),u.lc(1),u.Vc("ngIf",e.deviceInfo.siteVersion),u.lc(1),u.Vc("ngIf",e.deviceInfo.siteId)}}function CoreSettingsDeviceInfoPage_ion_item_31_a_6_Template(e,t){if(1&e&&(u.Ec(0,"a",17),u.pd(1),u.Dc()),2&e){const e=u.Oc(2);u.Vc("href",e.deviceInfo.fileSystemRoot,u.id),u.lc(1),u.rd(" ",e.deviceInfo.fileSystemRoot," ")}}function CoreSettingsDeviceInfoPage_ion_item_31_p_7_Template(e,t){if(1&e&&(u.Ec(0,"p"),u.pd(1),u.Dc()),2&e){const e=u.Oc(2);u.lc(1),u.qd(e.deviceInfo.fileSystemRoot)}}function CoreSettingsDeviceInfoPage_ion_item_31_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_31_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.nd(6,CoreSettingsDeviceInfoPage_ion_item_31_a_6_Template,2,2,"a",16),u.Dc(),u.nd(7,CoreSettingsDeviceInfoPage_ion_item_31_p_7_Template,2,1,"p",11),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,3,"core.settings.filesystemroot")),u.lc(3),u.Vc("ngIf",e.fsClickable),u.lc(1),u.Vc("ngIf",!e.fsClickable)}}function CoreSettingsDeviceInfoPage_ion_item_32_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_32_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.navigatoruseragent")),u.lc(3),u.qd(e.deviceInfo.userAgent)}}function CoreSettingsDeviceInfoPage_ion_item_33_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_33_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.navigatorlanguage")),u.lc(3),u.qd(e.deviceInfo.browserLanguage)}}function CoreSettingsDeviceInfoPage_ion_item_34_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_34_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,3,"core.settings.currentlanguage")),u.lc(3),u.sd("",e.currentLangName," (",e.deviceInfo.currentLanguage,")")}}function CoreSettingsDeviceInfoPage_ion_item_35_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_35_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.locationhref")),u.lc(3),u.qd(e.deviceInfo.locationHref)}}function CoreSettingsDeviceInfoPage_ion_item_36_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_36_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Pc(7,"translate"),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.displayformat")),u.lc(3),u.qd(u.Qc(7,4,"core."+e.deviceInfo.deviceType))}}function CoreSettingsDeviceInfoPage_ion_item_37_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_37_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.deviceos")),u.lc(3),u.qd(e.deviceOsTranslated)}}function CoreSettingsDeviceInfoPage_ion_item_38_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_38_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.screen")),u.lc(3),u.qd(e.deviceInfo.screen)}}function CoreSettingsDeviceInfoPage_ion_item_55_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_55_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.cordovaversion")),u.lc(3),u.qd(e.deviceInfo.cordovaVersion)}}function CoreSettingsDeviceInfoPage_ion_item_56_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_56_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.cordovadeviceplatform")),u.lc(3),u.qd(e.deviceInfo.platform)}}function CoreSettingsDeviceInfoPage_ion_item_57_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_57_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.cordovadeviceosversion")),u.lc(3),u.qd(e.deviceInfo.osVersion)}}function CoreSettingsDeviceInfoPage_ion_item_58_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_58_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.cordovadevicemodel")),u.lc(3),u.qd(e.deviceInfo.model)}}function CoreSettingsDeviceInfoPage_ion_item_59_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_59_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.cordovadeviceuuid")),u.lc(3),u.qd(e.deviceInfo.uuid)}}function CoreSettingsDeviceInfoPage_ion_item_60_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_60_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"p"),u.pd(6),u.Dc(),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,2,"core.settings.pushid")),u.lc(3),u.qd(e.deviceInfo.pushId)}}function CoreSettingsDeviceInfoPage_ion_item_61_p_5_Template(e,t){1&e&&(u.Ec(0,"p"),u.pd(1),u.Pc(2,"translate"),u.Dc()),2&e&&(u.lc(1),u.qd(u.Qc(2,1,"core.no")))}function CoreSettingsDeviceInfoPage_ion_item_61_p_6_Template(e,t){1&e&&(u.Ec(0,"p"),u.pd(1),u.Pc(2,"translate"),u.Dc()),2&e&&(u.lc(1),u.qd(u.Qc(2,1,"core.yes")))}function CoreSettingsDeviceInfoPage_ion_item_61_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_ion_item_61_Template_ion_item_longPress_0_listener(t){u.fd(e);return u.Oc().copyItemInfo(t)})),u.Ec(1,"ion-label",8),u.Ec(2,"p",9),u.pd(3),u.Pc(4,"translate"),u.Dc(),u.nd(5,CoreSettingsDeviceInfoPage_ion_item_61_p_5_Template,3,3,"p",11),u.nd(6,CoreSettingsDeviceInfoPage_ion_item_61_p_6_Template,3,3,"p",11),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.qd(u.Qc(4,3,"core.settings.encryptedpushsupported")),u.lc(2),u.Vc("ngIf",!e.deviceInfo.encryptedPushSupported),u.lc(1),u.Vc("ngIf",e.deviceInfo.encryptedPushSupported)}}let ee=(()=>{class CoreSettingsDeviceInfoPage{constructor(){var e;this.fsClickable=!1,this.showDevOptions=!1,this.devOptionsClickCounter=0,this.devOptionsForced=!1;const t=b.b.instance,n=T.i.instance,i=T.I.instance,c=window.navigator;if(this.deviceInfo={versionName:g.a.CONFIG.versionname,versionCode:g.a.CONFIG.versioncode,compilationTime:g.a.BUILD.compilationTime||0,lastCommit:g.a.BUILD.lastCommitHash||"",networkStatus:L.a.isOnline()?"online":"offline",wifiConnection:L.a.isWifi()?"yes":"no",localNotifAvailable:Y.a.isPluginAvailable()?"yes":"no",pushId:G.a.getPushId(),deviceType:""},window.location&&window.location.href){const e=window.location.href;this.deviceInfo.locationHref=e.indexOf("#")>0?e.substring(0,e.indexOf("#")):e}if(window.screen&&(this.deviceInfo.screen=window.innerWidth+"x"+window.innerHeight+" ("+window.screen.width+"x"+window.screen.height+")"),p.a.isMobile())if(this.deviceInfo.deviceType=p.a.is("tablet")?"tablet":"phone",p.a.isAndroid())this.deviceInfo.deviceOs="android",this.deviceOsTranslated="Android";else if(p.a.isIOS())this.deviceInfo.deviceOs="ios",this.deviceOsTranslated="iOS";else{const e=c.userAgent.match(/\(([^)]*)\)/);e&&e.length>1?(this.deviceInfo.deviceOs=e[1],this.deviceOsTranslated=e[1]):(this.deviceInfo.deviceOs="unknown",this.deviceOsTranslated=i.instant("core.unknown"))}else{this.deviceInfo.deviceType="browser";const e=c.userAgent.match(/\(([^)]*)\)/);e&&e.length>1?(this.deviceInfo.deviceOs=e[1],this.deviceOsTranslated=e[1]):(this.deviceInfo.deviceOs="unknown",this.deviceOsTranslated=i.instant("core.unknown"))}c&&(c.userAgent&&(this.deviceInfo.userAgent=c.userAgent),c.language&&(this.deviceInfo.browserLanguage=c.language)),n&&(n.cordova&&(this.deviceInfo.cordovaVersion=n.cordova),n.platform&&(this.deviceInfo.platform=n.platform),n.version&&(this.deviceInfo.osVersion=n.version),n.model&&(this.deviceInfo.model=n.model),n.uuid&&(this.deviceInfo.uuid=n.uuid));const o=t.getCurrentSite();this.deviceInfo.siteId=null==o?void 0:o.getId(),this.deviceInfo.siteVersion=null===(e=null==o?void 0:o.getInfo())||void 0===e?void 0:e.release,this.onlineObserver=L.a.onChange().subscribe((()=>{T.z.run((()=>{this.deviceInfo.networkStatus=L.a.isOnline()?"online":"offline"}))})),this.asyncInit()}asyncInit(){return Object(s.a)(this,void 0,void 0,(function*(){const e=b.b.instance,t=J.a.instance,n=yield Q.a.getCurrentLanguage();this.deviceInfo.currentLanguage=n,this.currentLangName=g.a.CONFIG.languages[n];const i=e.getCurrentSite(),c=yield O.a.isSingleFixedSite(),o=yield O.a.getAvailableSites(),a=c&&o[0].url;if(this.deviceInfo.siteUrl=(null==i?void 0:i.getURL())||a||void 0,this.deviceInfo.isPrefixedUrl=!!o.length,t.isAvailable()){const e=yield t.getBasePath();this.deviceInfo.fileSystemRoot=e,this.fsClickable=t.usesHTMLAPI()}const s=yield E.a.get("showDevOptions",0);this.devOptionsForced=g.a.BUILD.isDevelopment||g.a.BUILD.isTesting,this.showDevOptions=this.devOptionsForced||1==s;const r=this.deviceInfo.pushId?yield j.a.ignoreErrors(G.a.getPublicKey()):void 0;this.deviceInfo.encryptedPushSupported=void 0!==r}))}copyInfo(){j.a.copyToClipboard(JSON.stringify(this.deviceInfo))}copyItemInfo(e){var t,n;const i=e.target,c=null===(n=null===(t=null==i?void 0:i.closest("ion-item"))||void 0===t?void 0:t.textContent)||void 0===n?void 0:n.trim();c&&j.a.copyToClipboard(c)}ngOnDestroy(){this.onlineObserver&&this.onlineObserver.unsubscribe()}enableDevOptions(){return Object(s.a)(this,void 0,void 0,(function*(){if(!this.devOptionsForced){if(clearTimeout(this.devOptionsClickTimeout),this.devOptionsClickCounter++,5==this.devOptionsClickCounter)return this.showDevOptions?(this.showDevOptions=!1,yield E.a.delete("showDevOptions")):(this.showDevOptions=!0,yield E.a.set("showDevOptions",1),I.a.showToast("core.settings.youradev",!0)),this.devOptionsClickCounter=0,void 0;this.devOptionsClickTimeout=window.setTimeout((()=>{this.devOptionsClickTimeout=void 0,this.devOptionsClickCounter=0}),500)}}))}gotoDevOptions(){w.a.navigate("dev")}}return CoreSettingsDeviceInfoPage.ɵfac=function CoreSettingsDeviceInfoPage_Factory(e){return new(e||CoreSettingsDeviceInfoPage)},CoreSettingsDeviceInfoPage.ɵcmp=u.sc({type:CoreSettingsDeviceInfoPage,selectors:[["page-core-app-settings-deviceinfo"]],decls:70,vars:54,consts:[["slot","start"],[3,"text"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],[1,"list-item-limited-width"],["detail","true",3,"click",4,"ngIf"],[3,"longPress"],[1,"ion-text-wrap"],[1,"item-heading"],[3,"longPress","click"],[4,"ngIf"],[3,"longPress",4,"ngIf"],["detail","true",3,"click"],["name","fas-terminal","slot","start","aria-hidden","true"],["core-link","","auto-login","yes",3,"href"],["core-link","","auto-login","no",3,"href",4,"ngIf"],["core-link","","auto-login","no",3,"href"]],template:function CoreSettingsDeviceInfoPage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.Ec(9,"ion-buttons",2),u.Ec(10,"ion-button",3),u.Mc("click",(function CoreSettingsDeviceInfoPage_Template_ion_button_click_10_listener(){return t.copyInfo()})),u.Pc(11,"translate"),u.zc(12,"ion-icon",4),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Ec(13,"ion-content"),u.Ec(14,"ion-list",5),u.nd(15,CoreSettingsDeviceInfoPage_ion_item_15_Template,6,3,"ion-item",6),u.Ec(16,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_16_listener(e){return t.copyItemInfo(e)})),u.Ec(17,"ion-label",8),u.Ec(18,"p",9),u.pd(19),u.Pc(20,"translate"),u.Dc(),u.Ec(21,"p"),u.pd(22),u.Dc(),u.Dc(),u.Dc(),u.Ec(23,"ion-item",10),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_23_listener(e){return t.copyItemInfo(e)}))("click",(function CoreSettingsDeviceInfoPage_Template_ion_item_click_23_listener(){return t.enableDevOptions()})),u.Ec(24,"ion-label",8),u.Ec(25,"p",9),u.pd(26),u.Pc(27,"translate"),u.Dc(),u.nd(28,CoreSettingsDeviceInfoPage_p_28_Template,3,5,"p",11),u.nd(29,CoreSettingsDeviceInfoPage_p_29_Template,2,1,"p",11),u.Dc(),u.Dc(),u.nd(30,CoreSettingsDeviceInfoPage_ion_item_30_Template,11,8,"ion-item",12),u.nd(31,CoreSettingsDeviceInfoPage_ion_item_31_Template,8,5,"ion-item",12),u.nd(32,CoreSettingsDeviceInfoPage_ion_item_32_Template,7,4,"ion-item",12),u.nd(33,CoreSettingsDeviceInfoPage_ion_item_33_Template,7,4,"ion-item",12),u.nd(34,CoreSettingsDeviceInfoPage_ion_item_34_Template,7,5,"ion-item",12),u.nd(35,CoreSettingsDeviceInfoPage_ion_item_35_Template,7,4,"ion-item",12),u.nd(36,CoreSettingsDeviceInfoPage_ion_item_36_Template,8,6,"ion-item",12),u.nd(37,CoreSettingsDeviceInfoPage_ion_item_37_Template,7,4,"ion-item",12),u.nd(38,CoreSettingsDeviceInfoPage_ion_item_38_Template,7,4,"ion-item",12),u.Ec(39,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_39_listener(e){return t.copyItemInfo(e)})),u.Ec(40,"ion-label",8),u.Ec(41,"p",9),u.pd(42),u.Pc(43,"translate"),u.Dc(),u.Ec(44,"p"),u.pd(45),u.Pc(46,"translate"),u.Dc(),u.Dc(),u.Dc(),u.Ec(47,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_47_listener(e){return t.copyItemInfo(e)})),u.Ec(48,"ion-label",8),u.Ec(49,"p",9),u.pd(50),u.Pc(51,"translate"),u.Dc(),u.Ec(52,"p"),u.pd(53),u.Pc(54,"translate"),u.Dc(),u.Dc(),u.Dc(),u.nd(55,CoreSettingsDeviceInfoPage_ion_item_55_Template,7,4,"ion-item",12),u.nd(56,CoreSettingsDeviceInfoPage_ion_item_56_Template,7,4,"ion-item",12),u.nd(57,CoreSettingsDeviceInfoPage_ion_item_57_Template,7,4,"ion-item",12),u.nd(58,CoreSettingsDeviceInfoPage_ion_item_58_Template,7,4,"ion-item",12),u.nd(59,CoreSettingsDeviceInfoPage_ion_item_59_Template,7,4,"ion-item",12),u.nd(60,CoreSettingsDeviceInfoPage_ion_item_60_Template,7,4,"ion-item",12),u.nd(61,CoreSettingsDeviceInfoPage_ion_item_61_Template,7,5,"ion-item",12),u.Ec(62,"ion-item",7),u.Mc("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_62_listener(e){return t.copyItemInfo(e)})),u.Ec(63,"ion-label",8),u.Ec(64,"p",9),u.pd(65),u.Pc(66,"translate"),u.Dc(),u.Ec(67,"p"),u.pd(68),u.Pc(69,"translate"),u.Dc(),u.Dc(),u.Dc(),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,32,"core.back")),u.lc(4),u.rd(" ",u.Qc(8,34,"core.settings.deviceinfo")," "),u.lc(3),u.mc("aria-label",u.Qc(11,36,"core.settings.copyinfo")),u.lc(5),u.Vc("ngIf",t.showDevOptions),u.lc(4),u.qd(u.Qc(20,38,"core.settings.appversion")),u.lc(3),u.sd("",t.deviceInfo.versionName," (",t.deviceInfo.versionCode,")"),u.lc(4),u.qd(u.Qc(27,40,"core.settings.compilationinfo")),u.lc(2),u.Vc("ngIf",t.deviceInfo.compilationTime),u.lc(1),u.Vc("ngIf",t.deviceInfo.lastCommit),u.lc(1),u.Vc("ngIf",t.deviceInfo.siteUrl),u.lc(1),u.Vc("ngIf",t.deviceInfo.fileSystemRoot),u.lc(1),u.Vc("ngIf",t.deviceInfo.userAgent),u.lc(1),u.Vc("ngIf",t.deviceInfo.browserLanguage),u.lc(1),u.Vc("ngIf",t.deviceInfo.currentLanguage),u.lc(1),u.Vc("ngIf",t.deviceInfo.locationHref),u.lc(1),u.Vc("ngIf",t.deviceInfo.deviceType),u.lc(1),u.Vc("ngIf",t.deviceInfo.deviceOs&&t.deviceOsTranslated),u.lc(1),u.Vc("ngIf",t.deviceInfo.screen),u.lc(4),u.qd(u.Qc(43,42,"core.settings.networkstatus")),u.lc(3),u.qd(u.Qc(46,44,"core."+t.deviceInfo.networkStatus)),u.lc(5),u.qd(u.Qc(51,46,"core.settings.wificonnection")),u.lc(3),u.qd(u.Qc(54,48,"core."+t.deviceInfo.wifiConnection)),u.lc(2),u.Vc("ngIf",t.deviceInfo.cordovaVersion),u.lc(1),u.Vc("ngIf",t.deviceInfo.platform),u.lc(1),u.Vc("ngIf",t.deviceInfo.osVersion),u.lc(1),u.Vc("ngIf",t.deviceInfo.model),u.lc(1),u.Vc("ngIf",t.deviceInfo.uuid),u.lc(1),u.Vc("ngIf",t.deviceInfo.pushId),u.lc(1),u.Vc("ngIf",t.deviceInfo.pushId),u.lc(4),u.qd(u.Qc(66,50,"core.settings.localnotifavailable")),u.lc(3),u.qd(u.Qc(69,52,"core."+t.deviceInfo.localNotifAvailable)))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,M.a,f.l,f.D,C.a,h.a,f.v,f.P,S.t,f.I,X.a,f.O,F.a],pipes:[v.d,K.a],styles:[".item[_ngcontent-%COMP%]{-webkit-user-select:text;user-select:text;cursor:text}"]}),CoreSettingsDeviceInfoPage})();var te=n("TSsE"),ne=n("7fqT");function CoreSettingsDevPage_ion_buttons_9_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-buttons",9),u.Ec(1,"ion-button",10),u.Mc("click",(function CoreSettingsDevPage_ion_buttons_9_Template_ion_button_click_1_listener(){u.fd(e);return u.Oc().copyInfo()})),u.Pc(2,"translate"),u.zc(3,"ion-icon",11),u.Dc(),u.Dc()}2&e&&(u.lc(1),u.mc("aria-label",u.Qc(2,1,"core.settings.copyinfo")))}function CoreSettingsDevPage_ion_item_24_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",4),u.Ec(1,"ion-label"),u.Ec(2,"h2"),u.pd(3),u.Dc(),u.Dc(),u.Ec(4,"ion-toggle",6),u.Mc("ngModelChange",(function CoreSettingsDevPage_ion_item_24_Template_ion_toggle_ngModelChange_4_listener(t){u.fd(e);return u.Oc().enableStagingSites=t}))("ionChange",(function CoreSettingsDevPage_ion_item_24_Template_ion_toggle_ionChange_4_listener(t){u.fd(e);return u.Oc().setEnabledStagingSites(t.detail.checked)})),u.Dc(),u.Dc()}if(2&e){const e=u.Oc();u.lc(3),u.rd("Enable staging sites (",e.stagingSitesCount,")"),u.lc(1),u.Vc("ngModel",e.enableStagingSites)}}function CoreSettingsDevPage_ng_container_25_ion_item_15_Template(e,t){if(1&e){const e=u.Fc();u.Ec(0,"ion-item",4),u.Ec(1,"ion-label"),u.Ec(2,"p",5),u.pd(3,"Reset user tours"),u.Dc(),u.Dc(),u.Ec(4,"ion-button",13),u.Mc("click",(function CoreSettingsDevPage_ng_container_25_ion_item_15_Template_ion_button_click_4_listener(){u.fd(e);return u.Oc(2).resetUserTours()})),u.zc(5,"ion-icon",14),u.Dc(),u.Dc()}}function CoreSettingsDevPage_ng_container_25_ion_item_20_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",4),u.Ec(1,"ion-label"),u.Ec(2,"p",5),u.pd(3),u.Dc(),u.Dc(),u.Dc()),2&e){const e=t.$implicit;u.lc(3),u.qd(e)}}function CoreSettingsDevPage_ng_container_25_ion_item_25_Template(e,t){if(1&e&&(u.Ec(0,"ion-item",4),u.Ec(1,"ion-label"),u.Ec(2,"p",5),u.pd(3),u.Dc(),u.Ec(4,"p"),u.pd(5),u.Dc(),u.Dc(),u.Dc()),2&e){const e=t.$implicit;u.lc(3),u.sd("",e.addon," (",e.component,")"),u.lc(2),u.qd(e.version)}}function CoreSettingsDevPage_ng_container_25_Template(e,t){if(1&e){const e=u.Fc();u.Cc(0),u.Ec(1,"ion-item",4),u.Ec(2,"ion-label"),u.Ec(3,"p",5),u.pd(4,"Enable remote styles "),u.Ec(5,"ion-badge"),u.pd(6),u.Dc(),u.Dc(),u.Dc(),u.Ec(7,"ion-toggle",6),u.Mc("ngModelChange",(function CoreSettingsDevPage_ng_container_25_Template_ion_toggle_ngModelChange_7_listener(t){u.fd(e);return u.Oc().remoteStyles=t}))("ionChange",(function CoreSettingsDevPage_ng_container_25_Template_ion_toggle_ionChange_7_listener(){u.fd(e);return u.Oc().remoteStylesChanged()})),u.Dc(),u.Dc(),u.Ec(8,"ion-item",4),u.Ec(9,"ion-label"),u.Ec(10,"p",5),u.pd(11,"Enable site plugin styles "),u.Ec(12,"ion-badge"),u.pd(13),u.Dc(),u.Dc(),u.Dc(),u.Ec(14,"ion-toggle",6),u.Mc("ngModelChange",(function CoreSettingsDevPage_ng_container_25_Template_ion_toggle_ngModelChange_14_listener(t){u.fd(e);return u.Oc().pluginStyles=t}))("ionChange",(function CoreSettingsDevPage_ng_container_25_Template_ion_toggle_ionChange_14_listener(){u.fd(e);return u.Oc().pluginStylesChanged()})),u.Dc(),u.Dc(),u.nd(15,CoreSettingsDevPage_ng_container_25_ion_item_15_Template,6,0,"ion-item",7),u.Ec(16,"ion-item-divider"),u.Ec(17,"ion-label"),u.Ec(18,"h2"),u.pd(19,"Disabled features"),u.Dc(),u.Dc(),u.Dc(),u.nd(20,CoreSettingsDevPage_ng_container_25_ion_item_20_Template,4,1,"ion-item",12),u.Ec(21,"ion-item-divider"),u.Ec(22,"ion-label"),u.Ec(23,"h2"),u.pd(24,"Site plugins"),u.Dc(),u.Dc(),u.Dc(),u.nd(25,CoreSettingsDevPage_ng_container_25_ion_item_25_Template,6,3,"ion-item",12),u.Bc()}if(2&e){const e=u.Oc();u.lc(6),u.qd(e.remoteStylesCount),u.lc(1),u.Vc("ngModel",e.remoteStyles),u.lc(6),u.qd(e.pluginStylesCount),u.lc(1),u.Vc("ngModel",e.pluginStyles),u.lc(1),u.Vc("ngIf",e.userToursEnabled),u.lc(5),u.Vc("ngForOf",e.disabledFeatures),u.lc(5),u.Vc("ngForOf",e.sitePlugins)}}let ie=(()=>{class CoreSettingsDevPage{constructor(){this.rtl=!1,this.forceSafeAreaMargins=!1,this.direction="ltr",this.remoteStyles=!0,this.remoteStylesCount=0,this.pluginStyles=!0,this.pluginStylesCount=0,this.sitePlugins=[],this.userToursEnabled=!0,this.stagingSitesCount=0,this.disabledFeatures=[]}ngOnInit(){var e,t,n;return Object(s.a)(this,void 0,void 0,(function*(){if(this.rtl=p.a.isRTL,this.RTLChanged(),this.forceSafeAreaMargins=document.documentElement.classList.contains("force-safe-area-margins"),this.safeAreaChanged(),this.siteId=null===(e=b.b.getCurrentSite())||void 0===e?void 0:e.getId(),this.stagingSitesCount=g.a.CONFIG.sites.filter((e=>e.staging)).length,this.stagingSitesCount&&(this.enableStagingSites=yield y.a.hasEnabledStagingSites(),this.previousEnableStagingSites=this.enableStagingSites),!this.siteId)return;this.remoteStyles=!1,this.remoteStylesCount=0,this.pluginStyles=!1,this.pluginStylesCount=0,this.userToursEnabled=!ne.a.isDisabled(),document.head.querySelectorAll("style").forEach((e=>{this.siteId&&e.id.endsWith(this.siteId)&&(e.innerHTML.length>0&&this.remoteStylesCount++,this.remoteStyles=this.remoteStyles||"disabled"!=e.getAttribute("media")),e.id.startsWith("siteplugin-")&&(e.innerHTML.length>0&&this.pluginStylesCount++,this.pluginStyles=this.pluginStyles||"disabled"!=e.getAttribute("media"))})),this.sitePlugins=te.a.getCurrentSitePluginList().map((e=>({addon:e.addon,component:e.component,version:e.version})));const i=null===(n=yield null===(t=b.b.getCurrentSite())||void 0===t?void 0:t.getPublicConfig())||void 0===n?void 0:n.tool_mobile_disabledfeatures;this.disabledFeatures=(null==i?void 0:i.split(","))||[]}))}RTLChanged(){this.direction=this.rtl?"rtl":"ltr",document.dir=this.direction}safeAreaChanged(){document.documentElement.classList.toggle("force-safe-area-margins",this.forceSafeAreaMargins)}remoteStylesChanged(){document.head.querySelectorAll("style").forEach((e=>{this.siteId&&e.id.endsWith(this.siteId)&&(this.remoteStyles?e.removeAttribute("media"):e.setAttribute("media","disabled"))}))}pluginStylesChanged(){document.head.querySelectorAll("style").forEach((e=>{e.id.startsWith("siteplugin-")&&(this.pluginStyles?e.removeAttribute("media"):e.setAttribute("media","disabled"))}))}copyInfo(){j.a.copyToClipboard(JSON.stringify({disabledFeatures:this.disabledFeatures,sitePlugins:this.sitePlugins}))}resetUserTours(){return Object(s.a)(this,void 0,void 0,(function*(){yield ne.a.resetTours(),yield E.a.delete(O.b.ONBOARDING_DONE),I.a.showToast("User tours have been reseted")}))}setEnabledStagingSites(e){return Object(s.a)(this,void 0,void 0,(function*(){if(this.enableStagingSites!==this.previousEnableStagingSites)try{yield y.a.setEnabledStagingSites(e),this.previousEnableStagingSites=e}catch(t){this.enableStagingSites=!e,I.a.showErrorModal(t)}}))}}return CoreSettingsDevPage.ɵfac=function CoreSettingsDevPage_Factory(e){return new(e||CoreSettingsDevPage)},CoreSettingsDevPage.ɵcmp=u.sc({type:CoreSettingsDevPage,selectors:[["page-core-app-settings-dev"]],decls:26,vars:12,consts:[["slot","start"],[3,"text"],["slot","end",4,"ngIf"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],[1,"item-heading"],[3,"ngModel","ngModelChange","ionChange"],["class","ion-text-wrap",4,"ngIf"],[4,"ngIf"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],["class","ion-text-wrap",4,"ngFor","ngForOf"],["aria-label","Reset user tours","fill","clear","slot","end",3,"click"],["slot","icon-only","aria-hidden","true","name","fas-broom"]],template:function CoreSettingsDevPage_Template(e,t){1&e&&(u.Ec(0,"ion-header"),u.Ec(1,"ion-toolbar"),u.Ec(2,"ion-buttons",0),u.zc(3,"ion-back-button",1),u.Pc(4,"translate"),u.Dc(),u.Ec(5,"ion-title"),u.Ec(6,"h1"),u.pd(7),u.Pc(8,"translate"),u.Dc(),u.Dc(),u.nd(9,CoreSettingsDevPage_ion_buttons_9_Template,4,3,"ion-buttons",2),u.Dc(),u.Dc(),u.Ec(10,"ion-content"),u.Ec(11,"ion-list",3),u.Ec(12,"ion-item",4),u.Ec(13,"ion-label"),u.Ec(14,"p",5),u.pd(15,"Text direction"),u.Dc(),u.Ec(16,"p"),u.pd(17),u.Dc(),u.Dc(),u.Ec(18,"ion-toggle",6),u.Mc("ngModelChange",(function CoreSettingsDevPage_Template_ion_toggle_ngModelChange_18_listener(e){return t.rtl=e}))("ionChange",(function CoreSettingsDevPage_Template_ion_toggle_ionChange_18_listener(){return t.RTLChanged()})),u.Dc(),u.Dc(),u.Ec(19,"ion-item",4),u.Ec(20,"ion-label"),u.Ec(21,"p",5),u.pd(22,"Force safe area margins"),u.Dc(),u.Dc(),u.Ec(23,"ion-toggle",6),u.Mc("ngModelChange",(function CoreSettingsDevPage_Template_ion_toggle_ngModelChange_23_listener(e){return t.forceSafeAreaMargins=e}))("ionChange",(function CoreSettingsDevPage_Template_ion_toggle_ionChange_23_listener(){return t.safeAreaChanged()})),u.Dc(),u.Dc(),u.nd(24,CoreSettingsDevPage_ion_item_24_Template,5,2,"ion-item",7),u.nd(25,CoreSettingsDevPage_ng_container_25_Template,26,7,"ng-container",8),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.Vc("text",u.Qc(4,8,"core.back")),u.lc(4),u.qd(u.Qc(8,10,"core.settings.developeroptions")),u.lc(2),u.Vc("ngIf",t.siteId),u.lc(8),u.qd(t.direction),u.lc(1),u.Vc("ngModel",t.rtl),u.lc(5),u.Vc("ngModel",t.forceSafeAreaMargins),u.lc(1),u.Vc("ngIf",t.stagingSitesCount&&void 0!==t.enableStagingSites),u.lc(1),u.Vc("ngIf",t.siteId))},directives:[f.C,f.Ab,f.m,f.h,f.i,f.yb,S.t,h.a,f.v,f.P,f.I,f.O,f.zb,f.d,x.r,x.u,M.a,f.l,f.D,C.a,f.k,f.J,S.s],pipes:[v.d],encapsulation:2}),CoreSettingsDevPage})();const ce=[{path:"general",component:W},{path:"spaceusage",component:$},{path:"sync",component:q},{path:d.c,loadChildren:()=>n.e(20).then(n.bind(null,"agZB")).then((e=>e.CoreSharedFilesLazyModule))},{path:"about",component:H}],oe=[{path:"",component:D},...ce],ae=[{path:"",component:D,children:[{path:"",pathMatch:"full",redirectTo:"general"},...ce]}],se=[...Object(c.c)(oe,(()=>a.a.isMobile)),...Object(c.c)(ae,(()=>a.a.isTablet)),{path:"about/deviceinfo",component:ee},{path:"about/deviceinfo/dev",component:ie},{path:"about/licenses",component:Z}];let re=(()=>{class CoreSettingsLazyModule{}return CoreSettingsLazyModule.ɵmod=u.wc({type:CoreSettingsLazyModule}),CoreSettingsLazyModule.ɵinj=u.vc({factory:function CoreSettingsLazyModule_Factory(e){return new(e||CoreSettingsLazyModule)},imports:[[i.m.forChild(se),o.a]]}),CoreSettingsLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&u.kd(re,{declarations:[D,q,W,$,H,Z,ee,ie],imports:[i.m,o.a]}))}}]);