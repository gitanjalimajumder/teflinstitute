(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{JatN:function(e,o,s){"use strict";s.d(o,"a",(function(){return t}));var n=s("fXoL");let t=(()=>{class AddonModWorkshopAssessmentStrategyBaseComponent{}return AddonModWorkshopAssessmentStrategyBaseComponent.ɵfac=function AddonModWorkshopAssessmentStrategyBaseComponent_Factory(e){return new(e||AddonModWorkshopAssessmentStrategyBaseComponent)},AddonModWorkshopAssessmentStrategyBaseComponent.ɵcmp=n.sc({type:AddonModWorkshopAssessmentStrategyBaseComponent,selectors:[["ng-component"]],inputs:{workshopId:"workshopId",assessment:"assessment",edit:"edit",selectedValues:"selectedValues",fieldErrors:"fieldErrors",strategy:"strategy",moduleId:"moduleId",courseId:"courseId"},decls:0,vars:0,template:function AddonModWorkshopAssessmentStrategyBaseComponent_Template(e,o){},encapsulation:2}),AddonModWorkshopAssessmentStrategyBaseComponent})()},"M6/0":function(e,o,s){"use strict";s.r(o),s.d(o,"AddonModWorkshopAssessmentStrategyRubricHandlerLazyService",(function(){return i})),s.d(o,"AddonModWorkshopAssessmentStrategyRubricHandler",(function(){return m}));var n=s("mrSG"),t=s("j3ag"),r=s("u7aB"),d=s("Hv3w"),c=s("fXoL");let i=(()=>{class AddonModWorkshopAssessmentStrategyRubricHandlerLazyService extends d.a{isEnabled(){return Object(n.a)(this,void 0,void 0,(function*(){return!0}))}getComponent(){return r.a}getOriginalValues(e){return Object(n.a)(this,void 0,void 0,(function*(){const o=[];return e.fields.forEach(((s,n)=>{s.dimtitle=t.I.instant("addon.mod_workshop_assessment_rubric.dimensionnumber",{$a:s.number}),e.current[n]||(e.current[n]={}),o[n]={},o[n].chosenlevelid=e.current[n].chosenlevelid||"",o[n].number=s.number})),o}))}hasDataChanged(e,o){for(const s in e)if(e[s].chosenlevelid!=(o[s].chosenlevelid||""))return!0;return!1}prepareAssessmentData(e,o){return Object(n.a)(this,void 0,void 0,(function*(){const s={},n={};let r=!1;if(o.fields.forEach(((d,c)=>{if(c<o.dimenssionscount){const i=parseInt(e[c].chosenlevelid,10);!isNaN(i)&&i>=0?s["chosenlevelid__idx_"+c]=i:(n["chosenlevelid_"+c]=t.I.instant("addon.mod_workshop_assessment_rubric.mustchooseone"),r=!0),s["gradeid__idx_"+c]=parseInt(o.current[c].gradeid,10)||0,s["dimensionid__idx_"+c]=parseInt(d.dimensionid,10)}})),r)throw n;return s}))}}return AddonModWorkshopAssessmentStrategyRubricHandlerLazyService.ɵfac=function AddonModWorkshopAssessmentStrategyRubricHandlerLazyService_Factory(e){return a(e||AddonModWorkshopAssessmentStrategyRubricHandlerLazyService)},AddonModWorkshopAssessmentStrategyRubricHandlerLazyService.ɵprov=c.uc({token:AddonModWorkshopAssessmentStrategyRubricHandlerLazyService,factory:AddonModWorkshopAssessmentStrategyRubricHandlerLazyService.ɵfac,providedIn:"root"}),AddonModWorkshopAssessmentStrategyRubricHandlerLazyService})();const a=c.Gc(i),m=Object(t.M)(i)},u7aB:function(e,o,s){"use strict";s.d(o,"a",(function(){return l}));var n=s("JatN"),t=s("fXoL"),r=s("ofXK"),d=s("TEn/"),c=s("FasJ"),i=s("hMzs"),a=s("3Pt+"),m=s("FTxb");function AddonModWorkshopAssessmentStrategyRubricComponent_section_0_ion_card_1_core_input_errors_6_Template(e,o){if(1&e&&t.zc(0,"core-input-errors",7),2&e){const e=t.Oc(2).index,o=t.Oc();t.Vc("errorText",o.fieldErrors["chosenlevelid_"+e])}}function AddonModWorkshopAssessmentStrategyRubricComponent_section_0_ion_card_1_ion_item_9_Template(e,o){if(1&e&&(t.Ec(0,"ion-item"),t.Ec(1,"ion-label"),t.Ec(2,"p"),t.zc(3,"core-format-text",4),t.Dc(),t.Dc(),t.zc(4,"ion-radio",8),t.Dc()),2&e){const e=o.$implicit,s=t.Oc(3);t.lc(3),t.Vc("text",e.definition)("contextInstanceId",s.moduleId)("courseId",s.courseId),t.lc(1),t.Vc("value",e.levelid)("disabled",!s.edit)}}function AddonModWorkshopAssessmentStrategyRubricComponent_section_0_ion_card_1_Template(e,o){if(1&e){const e=t.Fc();t.Ec(0,"ion-card"),t.Ec(1,"ion-item",2),t.Ec(2,"ion-label"),t.Ec(3,"h2",3),t.pd(4),t.Dc(),t.zc(5,"core-format-text",4),t.Dc(),t.nd(6,AddonModWorkshopAssessmentStrategyRubricComponent_section_0_ion_card_1_core_input_errors_6_Template,1,1,"core-input-errors",5),t.Dc(),t.Ec(7,"ion-list"),t.Ec(8,"ion-radio-group",6),t.Mc("ngModelChange",(function AddonModWorkshopAssessmentStrategyRubricComponent_section_0_ion_card_1_Template_ion_radio_group_ngModelChange_8_listener(o){t.fd(e);const s=t.Oc().index;return t.Oc().selectedValues[s].chosenlevelid=o})),t.nd(9,AddonModWorkshopAssessmentStrategyRubricComponent_section_0_ion_card_1_ion_item_9_Template,5,5,"ion-item",0),t.Dc(),t.Dc(),t.Dc()}if(2&e){const e=t.Oc(),o=e.$implicit,s=e.index,n=t.Oc();t.lc(3),t.Vc("core-mark-required",n.edit),t.lc(1),t.qd(o.dimtitle),t.lc(1),t.Vc("text",o.description)("contextInstanceId",n.moduleId)("courseId",n.courseId),t.lc(1),t.Vc("ngIf",n.edit&&n.fieldErrors["chosenlevelid_"+s]),t.lc(2),t.Vc("ngModel",n.selectedValues[s].chosenlevelid)("name","chosenlevelid_"+s),t.lc(1),t.Vc("ngForOf",o.fields)}}function AddonModWorkshopAssessmentStrategyRubricComponent_section_0_Template(e,o){if(1&e&&(t.Ec(0,"section"),t.nd(1,AddonModWorkshopAssessmentStrategyRubricComponent_section_0_ion_card_1_Template,10,9,"ion-card",1),t.Dc()),2&e){const e=o.index,s=t.Oc();t.lc(1),t.Vc("ngIf",e<(null==s.assessment.form?null:s.assessment.form.dimenssionscount))}}let l=(()=>{class AddonModWorkshopAssessmentStrategyRubricComponent extends n.a{}return AddonModWorkshopAssessmentStrategyRubricComponent.ɵfac=function AddonModWorkshopAssessmentStrategyRubricComponent_Factory(e){return u(e||AddonModWorkshopAssessmentStrategyRubricComponent)},AddonModWorkshopAssessmentStrategyRubricComponent.ɵcmp=t.sc({type:AddonModWorkshopAssessmentStrategyRubricComponent,selectors:[["addon-mod-workshop-assessment-strategy-rubric"]],features:[t.ic],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ion-text-wrap"],[3,"core-mark-required"],["contextLevel","module",3,"text","contextInstanceId","courseId"],[3,"errorText",4,"ngIf"],[3,"ngModel","name","ngModelChange"],[3,"errorText"],["slot","start",3,"value","disabled"]],template:function AddonModWorkshopAssessmentStrategyRubricComponent_Template(e,o){1&e&&t.nd(0,AddonModWorkshopAssessmentStrategyRubricComponent_section_0_Template,2,1,"section",0),2&e&&t.Vc("ngForOf",null==o.assessment.form?null:o.assessment.form.fields)},directives:[r.s,r.t,d.n,d.I,d.O,c.a,i.a,d.P,d.Z,d.Ob,a.r,a.u,m.a,d.Y,d.Mb],encapsulation:2}),AddonModWorkshopAssessmentStrategyRubricComponent})();const u=t.Gc(l)}}]);