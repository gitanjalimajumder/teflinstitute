(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{CR0I:function(e,o,n){"use strict";n.d(o,"a",(function(){return l}));var t=n("JatN"),s=n("fXoL"),r=n("ofXK"),d=n("TEn/"),m=n("hMzs"),c=n("FasJ"),a=n("d0nH"),i=n("3Pt+"),p=n("FTxb"),_=n("sYmb");function AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_ion_item_6_core_input_errors_6_Template(e,o){if(1&e&&s.zc(0,"core-input-errors",9),2&e){const e=s.Oc(3).index,o=s.Oc();s.Vc("errorText",o.fieldErrors["peercomment_"+e])}}const _c0=function(e){return{$a:e}};function AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_ion_item_6_Template(e,o){if(1&e){const e=s.Fc();s.Ec(0,"ion-item"),s.Ec(1,"ion-label",5),s.Ec(2,"span",6),s.pd(3),s.Pc(4,"translate"),s.Dc(),s.Dc(),s.Ec(5,"ion-textarea",7),s.Mc("ngModelChange",(function AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_ion_item_6_Template_ion_textarea_ngModelChange_5_listener(o){s.fd(e);const n=s.Oc(2).index;return s.Oc().selectedValues[n].peercomment=o})),s.Dc(),s.nd(6,AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_ion_item_6_core_input_errors_6_Template,1,1,"core-input-errors",8),s.Dc()}if(2&e){const e=s.Oc(2),o=e.$implicit,n=e.index,t=s.Oc();s.lc(2),s.Vc("core-mark-required",!0),s.lc(1),s.rd(" ",s.Rc(4,5,"addon.mod_workshop_assessment_comments.dimensioncommentfor",s.ad(8,_c0,o.dimtitle))," "),s.lc(2),s.Vc("ngModel",t.selectedValues[n].peercomment)("core-auto-rows",t.selectedValues[n].peercomment),s.lc(1),s.Vc("ngIf",t.fieldErrors["peercomment_"+n])}}function AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_ion_item_7_Template(e,o){if(1&e&&(s.Ec(0,"ion-item",2),s.Ec(1,"ion-label"),s.Ec(2,"p",10),s.pd(3),s.Pc(4,"translate"),s.Dc(),s.Ec(5,"p"),s.zc(6,"core-format-text",3),s.Dc(),s.Dc(),s.Dc()),2&e){const e=s.Oc(2),o=e.$implicit,n=e.index,t=s.Oc();s.lc(3),s.qd(s.Rc(4,4,"addon.mod_workshop_assessment_comments.dimensioncommentfor",s.ad(7,_c0,o.dimtitle))),s.lc(3),s.Vc("text",t.selectedValues[n].peercomment)("contextInstanceId",t.moduleId)("courseId",t.courseId)}}function AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_Template(e,o){if(1&e&&(s.Ec(0,"ion-card"),s.Ec(1,"ion-item",2),s.Ec(2,"ion-label"),s.Ec(3,"h2"),s.pd(4),s.Dc(),s.zc(5,"core-format-text",3),s.Dc(),s.Dc(),s.nd(6,AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_ion_item_6_Template,7,10,"ion-item",1),s.nd(7,AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_ion_item_7_Template,7,9,"ion-item",4),s.Dc()),2&e){const e=s.Oc().$implicit,o=s.Oc();s.lc(4),s.qd(e.dimtitle),s.lc(1),s.Vc("text",e.description)("contextInstanceId",o.moduleId)("courseId",o.courseId),s.lc(1),s.Vc("ngIf",o.edit),s.lc(1),s.Vc("ngIf",!o.edit)}}function AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_Template(e,o){if(1&e&&(s.Ec(0,"section"),s.nd(1,AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_ion_card_1_Template,8,6,"ion-card",1),s.Dc()),2&e){const e=o.index,n=s.Oc();s.lc(1),s.Vc("ngIf",e<(null==n.assessment.form?null:n.assessment.form.dimenssionscount))}}let l=(()=>{class AddonModWorkshopAssessmentStrategyCommentsComponent extends t.a{}return AddonModWorkshopAssessmentStrategyCommentsComponent.ɵfac=function AddonModWorkshopAssessmentStrategyCommentsComponent_Factory(e){return u(e||AddonModWorkshopAssessmentStrategyCommentsComponent)},AddonModWorkshopAssessmentStrategyCommentsComponent.ɵcmp=s.sc({type:AddonModWorkshopAssessmentStrategyCommentsComponent,selectors:[["addon-mod-workshop-assessment-strategy-comments"]],features:[s.ic],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ion-text-wrap"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["class","ion-text-wrap",4,"ngIf"],["position","stacked"],[3,"core-mark-required"],[3,"ngModel","core-auto-rows","ngModelChange"],[3,"errorText",4,"ngIf"],[3,"errorText"],[1,"item-heading"]],template:function AddonModWorkshopAssessmentStrategyCommentsComponent_Template(e,o){1&e&&s.nd(0,AddonModWorkshopAssessmentStrategyCommentsComponent_section_0_Template,2,1,"section",0),2&e&&s.Vc("ngForOf",null==o.assessment.form?null:o.assessment.form.fields)},directives:[r.s,r.t,d.n,d.I,d.O,m.a,c.a,d.wb,d.Pb,a.a,i.r,i.u,p.a],pipes:[_.d],encapsulation:2}),AddonModWorkshopAssessmentStrategyCommentsComponent})();const u=s.Gc(l)},JatN:function(e,o,n){"use strict";n.d(o,"a",(function(){return s}));var t=n("fXoL");let s=(()=>{class AddonModWorkshopAssessmentStrategyBaseComponent{}return AddonModWorkshopAssessmentStrategyBaseComponent.ɵfac=function AddonModWorkshopAssessmentStrategyBaseComponent_Factory(e){return new(e||AddonModWorkshopAssessmentStrategyBaseComponent)},AddonModWorkshopAssessmentStrategyBaseComponent.ɵcmp=t.sc({type:AddonModWorkshopAssessmentStrategyBaseComponent,selectors:[["ng-component"]],inputs:{workshopId:"workshopId",assessment:"assessment",edit:"edit",selectedValues:"selectedValues",fieldErrors:"fieldErrors",strategy:"strategy",moduleId:"moduleId",courseId:"courseId"},decls:0,vars:0,template:function AddonModWorkshopAssessmentStrategyBaseComponent_Template(e,o){},encapsulation:2}),AddonModWorkshopAssessmentStrategyBaseComponent})()},v80Q:function(e,o,n){"use strict";n.r(o),n.d(o,"AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService",(function(){return c})),n.d(o,"AddonModWorkshopAssessmentStrategyCommentsHandler",(function(){return i}));var t=n("mrSG"),s=n("j3ag"),r=n("CR0I"),d=n("aCEj"),m=n("fXoL");let c=(()=>{class AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService extends d.a{isEnabled(){return Object(t.a)(this,void 0,void 0,(function*(){return!0}))}getComponent(){return r.a}getOriginalValues(e){return Object(t.a)(this,void 0,void 0,(function*(){const o=[];return e.fields.forEach(((n,t)=>{n.dimtitle=s.I.instant("addon.mod_workshop_assessment_comments.dimensionnumber",{$a:n.number}),e.current[t]||(e.current[t]={}),o[t]={},o[t].peercomment=e.current[t].peercomment||"",o[t].number=n.number})),o}))}hasDataChanged(e,o){for(const n in e)if(e[n].peercomment!=o[n].peercomment)return!0;return!1}prepareAssessmentData(e,o){return Object(t.a)(this,void 0,void 0,(function*(){const n={},t={};let r=!1;if(o.fields.forEach(((d,m)=>{m<o.dimenssionscount&&(e[m].peercomment?n["peercomment__idx_"+m]=e[m].peercomment:(t["peercomment_"+m]=s.I.instant("core.err_required"),r=!0),n["gradeid__idx_"+m]=parseInt(o.current[m].gradeid,10)||0,n["dimensionid__idx_"+m]=parseInt(d.dimensionid,10))})),r)throw t;return n}))}}return AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService.ɵfac=function AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService_Factory(e){return a(e||AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService)},AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService.ɵprov=m.uc({token:AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService,factory:AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService.ɵfac,providedIn:"root"}),AddonModWorkshopAssessmentStrategyCommentsHandlerLazyService})();const a=m.Gc(c),i=Object(s.M)(c)}}]);